import{k as h,r as w,R as e,j as o,Y as D,_ as B,L as E,$ as n,K as t,c as M,J as R,a0 as J,O as q}from"./vue-yiQq_PH0.js";import{k as F,B as C,d as k,_ as b,m as v,l as Y,aE as g,p as U,a4 as H,n as Q,u as W,f as X,a as Z}from"./index-B0ZkSKYK.js";import{u as j}from"./use-message-DloDVWC2.js";import{u as e0}from"./useRequest-0ohYLvZY.js";import{_ as t0}from"./Spin-CGhcZMXr.js";import{_ as o0}from"./p-DxcKq6JT.js";import{_ as n0}from"./a-QPxvhlve.js";import"./naive-ui-CAwxRKuH.js";import"./lodash-es-B1kh5og4.js";import"./vue-router-BwtPYt9w.js";import"./highlight.js-Dis82wzk.js";import"./vicons-ySDBKu-B.js";const A0=h({setup(){const A=w([]),l=F({initialValues:{list:[{id:"1",now:Date.now(),rate:4,title:"任务一"},{id:"2",now:Date.now(),rate:3,title:"任务二"},{id:"3",now:Date.now(),rate:5,title:"任务三"}]},onSubmit:console.log});function p(u){A.value=A.value.filter(i=>i!==u)}return{form:l,columns:[{title:"Title",path:"title",field:"input",width:200},{title:"时间",path:"now",field:"date-time",width:200},{title:"评分",path:"rate",field:"rate"},{title:"操作",width:120,fixed:"right",render:(u,i,a)=>{const{remove:r,editable:c}=a;return e(k,null,{default:()=>[c?e(C,{text:!0,type:"primary",onClick:()=>p(u.id)},{default:()=>[o("保存")]}):[e(C,{text:!0,type:"primary",onClick:()=>A.value.push(u.id)},{default:()=>[o("编辑")]}),e(C,{text:!0,type:"error",onClick:()=>{r(i),p(u.id)}},{default:()=>[o("删除")]})]]})}}],editableKeys:A}}}),r0={class:"demo-card__view"},l0={class:"flex flex-col"};function a0(A,l,p,d,u,i){const a=g,r=Y,c=C,s=v,m=D("component-demo");return E(),B(m,{"demo-file-name":"basic.vue","relative-url":"packages/components/src/edit-data-table/demos/zhCN/basic.demo.vue",title:"基本展示","ts-code":"%3Ctemplate%3E%0A%20%20%3Cpro-form%20%3Aform%3D%22form%22%20label-placement%3D%22left%22%3E%0A%20%20%20%20%3Cdiv%20class%3D%22flex%20flex-col%22%3E%0A%20%20%20%20%20%20%3Cpro-config-provider%0A%20%20%20%20%20%20%20%20%3Aprop-overrides%3D%22%7B%0A%20%20%20%20%20%20%20%20%20%20ProFormItem%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20showFeedback%3A%20false%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%7D%22%0A%20%20%20%20%20%20%3E%0A%20%20%20%20%20%20%20%20%3Cpro-edit-data-table%0A%20%20%20%20%20%20%20%20%20%20v-model%3Aeditable-keys%3D%22editableKeys%22%0A%20%20%20%20%20%20%20%20%20%20path%3D%22list%22%0A%20%20%20%20%20%20%20%20%20%20%3Acolumns%3D%22columns%22%0A%20%20%20%20%20%20%20%20%20%20%3Arecord-creator-props%3D%22%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20record%3A%20()%20%3D%3E%20(%7B%20id%3A%20Date.now()%20%7D)%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%22%0A%20%20%20%20%20%20%20%20%20%20row-key%3D%22id%22%0A%20%20%20%20%20%20%20%20%2F%3E%0A%20%20%20%20%20%20%3C%2Fpro-config-provider%3E%0A%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%3Cn-button%20type%3D%22primary%22%20attr-type%3D%22submit%22%3E%0A%20%20%20%20%20%20%E6%8F%90%E4%BA%A4%0A%20%20%20%20%3C%2Fn-button%3E%0A%20%20%3C%2Fpro-form%3E%0A%3C%2Ftemplate%3E%0A%0A%3Cscript%20lang%3D%22tsx%22%3E%0Aimport%20type%20%7B%20ProEditDataTableColumns%20%7D%20from%20'pro-naive-ui'%0Aimport%20%7B%20createProForm%20%7D%20from%20'pro-naive-ui'%0Aimport%20%7B%20defineComponent%2C%20ref%20%7D%20from%20'vue'%0A%0Ainterface%20DataSourceType%20%7B%0A%20%20id%3A%20string%0A%20%20title%3F%3A%20string%0A%20%20now%3F%3A%20number%0A%20%20rate%3F%3A%20number%0A%7D%0A%0Aexport%20default%20defineComponent(%7B%0A%20%20setup()%20%7B%0A%20%20%20%20const%20editableKeys%20%3D%20ref%3Cstring%5B%5D%3E(%5B%5D)%0A%20%20%20%20const%20form%20%3D%20createProForm(%7B%0A%20%20%20%20%20%20initialValues%3A%20%7B%0A%20%20%20%20%20%20%20%20list%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20'1'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20now%3A%20Date.now()%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20rate%3A%204%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20title%3A%20'%E4%BB%BB%E5%8A%A1%E4%B8%80'%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20'2'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20now%3A%20Date.now()%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20rate%3A%203%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20title%3A%20'%E4%BB%BB%E5%8A%A1%E4%BA%8C'%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20'3'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20now%3A%20Date.now()%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20rate%3A%205%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20title%3A%20'%E4%BB%BB%E5%8A%A1%E4%B8%89'%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20onSubmit%3A%20console.log%2C%0A%20%20%20%20%7D)%0A%0A%20%20%20%20function%20cancelEditable(id%3A%20string)%20%7B%0A%20%20%20%20%20%20editableKeys.value%20%3D%20editableKeys.value.filter(key%20%3D%3E%20key%20!%3D%3D%20id)%0A%20%20%20%20%7D%0A%0A%20%20%20%20const%20columns%3A%20ProEditDataTableColumns%3CDataSourceType%3E%20%3D%20%5B%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20title%3A%20'Title'%2C%0A%20%20%20%20%20%20%20%20path%3A%20'title'%2C%0A%20%20%20%20%20%20%20%20field%3A%20'input'%2C%0A%20%20%20%20%20%20%20%20width%3A%20200%2C%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20title%3A%20'%E6%97%B6%E9%97%B4'%2C%0A%20%20%20%20%20%20%20%20path%3A%20'now'%2C%0A%20%20%20%20%20%20%20%20field%3A%20'date-time'%2C%0A%20%20%20%20%20%20%20%20width%3A%20200%2C%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20title%3A%20'%E8%AF%84%E5%88%86'%2C%0A%20%20%20%20%20%20%20%20path%3A%20'rate'%2C%0A%20%20%20%20%20%20%20%20field%3A%20'rate'%2C%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20title%3A%20'%E6%93%8D%E4%BD%9C'%2C%0A%20%20%20%20%20%20%20%20width%3A%20120%2C%0A%20%20%20%20%20%20%20%20fixed%3A%20'right'%2C%0A%20%20%20%20%20%20%20%20render%3A%20(row%2C%20rowIndex%2C%20action)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20%7B%20remove%2C%20editable%20%7D%20%3D%20action%0A%20%20%20%20%20%20%20%20%20%20return%20(%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cn-flex%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7Beditable%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3F%20(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cn-button%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3D%7Btrue%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3D%22primary%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20onClick%3D%7B()%20%3D%3E%20cancelEditable(row.id)%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%E4%BF%9D%E5%AD%98%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fn-button%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cn-button%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3D%7Btrue%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3D%22primary%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20onClick%3D%7B()%20%3D%3E%20editableKeys.value.push(row.id)%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%E7%BC%96%E8%BE%91%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fn-button%3E%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cn-button%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3D%7Btrue%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3D%22error%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20onClick%3D%7B()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20remove(rowIndex)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cancelEditable(row.id)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%E5%88%A0%E9%99%A4%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fn-button%3E%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5D%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fn-flex%3E%0A%20%20%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%5D%0A%0A%20%20%20%20return%20%7B%0A%20%20%20%20%20%20form%2C%0A%20%20%20%20%20%20columns%2C%0A%20%20%20%20%20%20editableKeys%2C%0A%20%20%20%20%7D%0A%20%20%7D%2C%0A%7D)%0A%3C%2Fscript%3E","js-code":"<!--JS_CODE_SLOT-->","language-type":"tsx"},{title:n(()=>[o(" 基本展示 ")]),content:n(()=>[]),demo:n(()=>[t("div",r0,[e(s,{form:A.form,"label-placement":"left"},{default:n(()=>[t("div",l0,[e(r,{"prop-overrides":{ProFormItem:{showFeedback:!1}}},{default:n(()=>[e(a,{"editable-keys":A.editableKeys,"onUpdate:editableKeys":l[0]||(l[0]=_=>A.editableKeys=_),path:"list",columns:A.columns,"record-creator-props":{record:()=>({id:Date.now()})},"row-key":"id"},null,8,["editable-keys","columns","record-creator-props"])]),_:1})]),e(c,{type:"primary","attr-type":"submit"},{default:n(()=>[o(" 提交 ")]),_:1})]),_:1},8,["form"])])]),_:1})}const i0=b(A0,[["render",a0]]),d0=h({setup(){const A=j(),l=w([]),p=F({initialValues:{list:[{id:"1",now:Date.now(),rate:4,title:"任务一"},{id:"2",now:Date.now(),rate:3,title:"任务二"},{id:"3",now:Date.now(),rate:5,title:"任务三"}]},onSubmit:console.log});return{form:p,columns:[{title:()=>["Title",e("span",{class:"c-red"},[o("*")])],path:"title",field:"input",width:200,proFieldProps:{required:!0}},{title:"时间",path:"now",field:"date-time",width:200},{title:"评分",path:"rate",field:"rate"}],rowProps:i=>({style:"cursor: pointer;",ondblclick:()=>{if(!l.value.length){l.value=[i.id];return}p.validate().then(()=>{l.value=[i.id],A.success("保存成功")}).catch(()=>{A.error("校验失败")})}}),editableKeys:l}}}),s0={class:"demo-card__view"},u0={class:"flex flex-col"};function c0(A,l,p,d,u,i){const a=g,r=C,c=v,s=D("component-demo");return E(),B(s,{"demo-file-name":"row-dblclick-edit.vue","relative-url":"packages/components/src/edit-data-table/demos/zhCN/row-dblclick-edit.demo.vue",title:"双击行编辑","ts-code":"%3Ctemplate%3E%0A%20%20%3Cpro-form%20%3Aform%3D%22form%22%3E%0A%20%20%20%20%3Cdiv%20class%3D%22flex%20flex-col%22%3E%0A%20%20%20%20%20%20%3Cpro-edit-data-table%0A%20%20%20%20%20%20%20%20v-model%3Aeditable-keys%3D%22editableKeys%22%0A%20%20%20%20%20%20%20%20path%3D%22list%22%0A%20%20%20%20%20%20%20%20%3Acolumns%3D%22columns%22%0A%20%20%20%20%20%20%20%20%3Arecord-creator-props%3D%22%7B%0A%20%20%20%20%20%20%20%20%20%20record%3A%20()%20%3D%3E%20(%7B%20id%3A%20Date.now()%20%7D)%2C%0A%20%20%20%20%20%20%20%20%7D%22%0A%20%20%20%20%20%20%20%20%3Arow-props%3D%22rowProps%22%0A%20%20%20%20%20%20%20%20%3Aaction-guard%3D%22%7B%0A%20%20%20%20%20%20%20%20%20%20afterAddRow%3A%20(%7B%20insertIndex%20%7D)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20editableKeys%20%3D%20%5Bform.values.value.list%5BinsertIndex%5D.id%5D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%7D%22%0A%20%20%20%20%20%20%20%20row-key%3D%22id%22%0A%20%20%20%20%20%20%2F%3E%0A%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%3Cn-button%20type%3D%22primary%22%20attr-type%3D%22submit%22%3E%0A%20%20%20%20%20%20%E6%8F%90%E4%BA%A4%0A%20%20%20%20%3C%2Fn-button%3E%0A%20%20%3C%2Fpro-form%3E%0A%3C%2Ftemplate%3E%0A%0A%3Cscript%20lang%3D%22tsx%22%3E%0Aimport%20type%20%7B%20ProEditDataTableColumns%20%7D%20from%20'pro-naive-ui'%0Aimport%20%7B%20useMessage%20%7D%20from%20'naive-ui'%0Aimport%20%7B%20createProForm%20%7D%20from%20'pro-naive-ui'%0Aimport%20%7B%20defineComponent%2C%20ref%20%7D%20from%20'vue'%0A%0Ainterface%20DataSourceType%20%7B%0A%20%20id%3A%20string%0A%20%20now%3F%3A%20number%0A%20%20rate%3F%3A%20number%0A%20%20title%3F%3A%20string%0A%20%20children%3F%3A%20DataSourceType%5B%5D%0A%7D%0A%0Aexport%20default%20defineComponent(%7B%0A%20%20setup()%20%7B%0A%20%20%20%20const%20message%20%3D%20useMessage()%0A%20%20%20%20const%20editableKeys%20%3D%20ref%3Cstring%5B%5D%3E(%5B%5D)%0A%20%20%20%20const%20form%20%3D%20createProForm(%7B%0A%20%20%20%20%20%20initialValues%3A%20%7B%0A%20%20%20%20%20%20%20%20list%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20'1'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20now%3A%20Date.now()%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20rate%3A%204%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20title%3A%20'%E4%BB%BB%E5%8A%A1%E4%B8%80'%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20'2'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20now%3A%20Date.now()%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20rate%3A%203%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20title%3A%20'%E4%BB%BB%E5%8A%A1%E4%BA%8C'%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20'3'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20now%3A%20Date.now()%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20rate%3A%205%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20title%3A%20'%E4%BB%BB%E5%8A%A1%E4%B8%89'%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20onSubmit%3A%20console.log%2C%0A%20%20%20%20%7D)%0A%0A%20%20%20%20const%20columns%3A%20ProEditDataTableColumns%3CDataSourceType%3E%20%3D%20%5B%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20title%3A%20()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20'Title'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22c-red%22%3E*%3C%2Fspan%3E%2C%0A%20%20%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20path%3A%20'title'%2C%0A%20%20%20%20%20%20%20%20field%3A%20'input'%2C%0A%20%20%20%20%20%20%20%20width%3A%20200%2C%0A%20%20%20%20%20%20%20%20proFieldProps%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20required%3A%20true%2C%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20title%3A%20'%E6%97%B6%E9%97%B4'%2C%0A%20%20%20%20%20%20%20%20path%3A%20'now'%2C%0A%20%20%20%20%20%20%20%20field%3A%20'date-time'%2C%0A%20%20%20%20%20%20%20%20width%3A%20200%2C%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20title%3A%20'%E8%AF%84%E5%88%86'%2C%0A%20%20%20%20%20%20%20%20path%3A%20'rate'%2C%0A%20%20%20%20%20%20%20%20field%3A%20'rate'%2C%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%5D%0A%0A%20%20%20%20const%20rowProps%20%3D%20(row%3A%20DataSourceType)%20%3D%3E%20%7B%0A%20%20%20%20%20%20return%20%7B%0A%20%20%20%20%20%20%20%20style%3A%20'cursor%3A%20pointer%3B'%2C%0A%20%20%20%20%20%20%20%20ondblclick%3A%20()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(!editableKeys.value.length)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20editableKeys.value%20%3D%20%5Brow.id%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20form.validate()!.then(()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20editableKeys.value%20%3D%20%5Brow.id%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20message.success('%E4%BF%9D%E5%AD%98%E6%88%90%E5%8A%9F')%0A%20%20%20%20%20%20%20%20%20%20%7D).catch(()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20message.error('%E6%A0%A1%E9%AA%8C%E5%A4%B1%E8%B4%A5')%0A%20%20%20%20%20%20%20%20%20%20%7D)%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20%7B%0A%20%20%20%20%20%20form%2C%0A%20%20%20%20%20%20columns%2C%0A%20%20%20%20%20%20rowProps%2C%0A%20%20%20%20%20%20editableKeys%2C%0A%20%20%20%20%7D%0A%20%20%7D%2C%0A%7D)%0A%3C%2Fscript%3E","js-code":"<!--JS_CODE_SLOT-->","language-type":"tsx"},{title:n(()=>[o(" 双击行编辑 ")]),content:n(()=>[]),demo:n(()=>[t("div",s0,[e(c,{form:A.form},{default:n(()=>[t("div",u0,[e(a,{"editable-keys":A.editableKeys,"onUpdate:editableKeys":l[0]||(l[0]=m=>A.editableKeys=m),path:"list",columns:A.columns,"record-creator-props":{record:()=>({id:Date.now()})},"row-props":A.rowProps,"action-guard":{afterAddRow:({insertIndex:m})=>{A.editableKeys=[A.form.values.value.list[m].id]}},"row-key":"id"},null,8,["editable-keys","columns","record-creator-props","row-props","action-guard"])]),e(r,{type:"primary","attr-type":"submit"},{default:n(()=>[o(" 提交 ")]),_:1})]),_:1},8,["form"])])]),_:1})}const D0=b(d0,[["render",c0]]);function p0(A){return new Promise(l=>{setTimeout(l,A)})}const m0=h({setup(){const A=j(),l=w([]);return{form:F({initialValues:{list:[{id:"1",now:Date.now(),rate:4,title:"任务一"},{id:"2",now:Date.now(),rate:3,title:"任务二"},{id:"3",now:Date.now(),rate:5,title:"任务三"}]},onSubmit:console.log}),columns:[{title:"Title",path:"title",field:"input",width:200},{title:"时间",path:"now",field:"date-time",width:200},{title:"评分",path:"rate",field:"rate"}],editableKeys:l,actionGuard:{beforeAddRow:async i=>(await p0(500),i.total>=5?(A.warning("最多只能添加 5 行"),!1):!0),afterAddRow:({index:i,insertIndex:a,total:r})=>{console.log(`✅ 成功添加一行。原始位置：${i}，插入位置：${a}，总行数：${r}`)}}}}}),C0={class:"demo-card__view"},E0={class:"flex flex-col"};function B0(A,l,p,d,u,i){const a=g,r=C,c=v,s=D("component-demo");return E(),B(s,{"demo-file-name":"guard.vue","relative-url":"packages/components/src/edit-data-table/demos/zhCN/guard.demo.vue",title:"拦截器","ts-code":"%3Ctemplate%3E%0A%20%20%3Cpro-form%20%3Aform%3D%22form%22%3E%0A%20%20%20%20%3Cdiv%20class%3D%22flex%20flex-col%22%3E%0A%20%20%20%20%20%20%3Cpro-edit-data-table%0A%20%20%20%20%20%20%20%20v-model%3Aeditable-keys%3D%22editableKeys%22%0A%20%20%20%20%20%20%20%20path%3D%22list%22%0A%20%20%20%20%20%20%20%20%3Acolumns%3D%22columns%22%0A%20%20%20%20%20%20%20%20%3Arecord-creator-props%3D%22%7B%0A%20%20%20%20%20%20%20%20%20%20record%3A%20()%20%3D%3E%20(%7B%20id%3A%20Date.now()%20%7D)%2C%0A%20%20%20%20%20%20%20%20%7D%22%0A%20%20%20%20%20%20%20%20%3Aaction-guard%3D%22actionGuard%22%0A%20%20%20%20%20%20%20%20row-key%3D%22id%22%0A%20%20%20%20%20%20%2F%3E%0A%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%3Cn-button%20type%3D%22primary%22%20attr-type%3D%22submit%22%3E%0A%20%20%20%20%20%20%E6%8F%90%E4%BA%A4%0A%20%20%20%20%3C%2Fn-button%3E%0A%20%20%3C%2Fpro-form%3E%0A%3C%2Ftemplate%3E%0A%0A%3Cscript%20lang%3D%22tsx%22%3E%0Aimport%20type%20%7B%20ProEditDataTableActionGuard%2C%20ProEditDataTableColumns%20%7D%20from%20'pro-naive-ui'%0Aimport%20%7B%20useMessage%20%7D%20from%20'naive-ui'%0Aimport%20%7B%20createProForm%20%7D%20from%20'pro-naive-ui'%0Aimport%20%7B%20defineComponent%2C%20ref%20%7D%20from%20'vue'%0A%0Ainterface%20DataSourceType%20%7B%0A%20%20id%3A%20string%0A%20%20title%3F%3A%20string%0A%20%20now%3F%3A%20number%0A%20%20rate%3F%3A%20number%0A%7D%0A%0Afunction%20delay(time%3A%20number)%20%7B%0A%20%20return%20new%20Promise((resolve)%20%3D%3E%20%7B%0A%20%20%20%20setTimeout(resolve%2C%20time)%0A%20%20%7D)%0A%7D%0A%0Aexport%20default%20defineComponent(%7B%0A%20%20setup()%20%7B%0A%20%20%20%20const%20message%20%3D%20useMessage()%0A%20%20%20%20const%20editableKeys%20%3D%20ref%3Cstring%5B%5D%3E(%5B%5D)%0A%20%20%20%20const%20form%20%3D%20createProForm(%7B%0A%20%20%20%20%20%20initialValues%3A%20%7B%0A%20%20%20%20%20%20%20%20list%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20'1'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20now%3A%20Date.now()%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20rate%3A%204%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20title%3A%20'%E4%BB%BB%E5%8A%A1%E4%B8%80'%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20'2'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20now%3A%20Date.now()%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20rate%3A%203%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20title%3A%20'%E4%BB%BB%E5%8A%A1%E4%BA%8C'%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20'3'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20now%3A%20Date.now()%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20rate%3A%205%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20title%3A%20'%E4%BB%BB%E5%8A%A1%E4%B8%89'%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20onSubmit%3A%20console.log%2C%0A%20%20%20%20%7D)%0A%0A%20%20%20%20const%20columns%3A%20ProEditDataTableColumns%3CDataSourceType%3E%20%3D%20%5B%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20title%3A%20'Title'%2C%0A%20%20%20%20%20%20%20%20path%3A%20'title'%2C%0A%20%20%20%20%20%20%20%20field%3A%20'input'%2C%0A%20%20%20%20%20%20%20%20width%3A%20200%2C%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20title%3A%20'%E6%97%B6%E9%97%B4'%2C%0A%20%20%20%20%20%20%20%20path%3A%20'now'%2C%0A%20%20%20%20%20%20%20%20field%3A%20'date-time'%2C%0A%20%20%20%20%20%20%20%20width%3A%20200%2C%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20title%3A%20'%E8%AF%84%E5%88%86'%2C%0A%20%20%20%20%20%20%20%20path%3A%20'rate'%2C%0A%20%20%20%20%20%20%20%20field%3A%20'rate'%2C%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%5D%0A%0A%20%20%20%20const%20actionGuard%3A%20ProEditDataTableActionGuard%20%3D%20%7B%0A%20%20%20%20%20%20beforeAddRow%3A%20async%20(opt)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20await%20delay(500)%0A%20%20%20%20%20%20%20%20if%20(opt.total%20%3E%3D%205)%20%7B%0A%20%20%20%20%20%20%20%20%20%20message.warning('%E6%9C%80%E5%A4%9A%E5%8F%AA%E8%83%BD%E6%B7%BB%E5%8A%A0%205%20%E8%A1%8C')%0A%20%20%20%20%20%20%20%20%20%20return%20false%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20return%20true%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20afterAddRow%3A%20(%7B%20index%2C%20insertIndex%2C%20total%20%7D)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20console.log(%60%E2%9C%85%20%E6%88%90%E5%8A%9F%E6%B7%BB%E5%8A%A0%E4%B8%80%E8%A1%8C%E3%80%82%E5%8E%9F%E5%A7%8B%E4%BD%8D%E7%BD%AE%EF%BC%9A%24%7Bindex%7D%EF%BC%8C%E6%8F%92%E5%85%A5%E4%BD%8D%E7%BD%AE%EF%BC%9A%24%7BinsertIndex%7D%EF%BC%8C%E6%80%BB%E8%A1%8C%E6%95%B0%EF%BC%9A%24%7Btotal%7D%60)%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20%7B%0A%20%20%20%20%20%20form%2C%0A%20%20%20%20%20%20columns%2C%0A%20%20%20%20%20%20editableKeys%2C%0A%20%20%20%20%20%20actionGuard%2C%0A%20%20%20%20%7D%0A%20%20%7D%2C%0A%7D)%0A%3C%2Fscript%3E","js-code":"<!--JS_CODE_SLOT-->","language-type":"tsx"},{title:n(()=>[o(" 拦截器 ")]),content:n(()=>[]),demo:n(()=>[t("div",C0,[e(c,{form:A.form},{default:n(()=>[t("div",E0,[e(a,{"editable-keys":A.editableKeys,"onUpdate:editableKeys":l[0]||(l[0]=m=>A.editableKeys=m),path:"list",columns:A.columns,"record-creator-props":{record:()=>({id:Date.now()})},"action-guard":A.actionGuard,"row-key":"id"},null,8,["editable-keys","columns","record-creator-props","action-guard"])]),e(r,{type:"primary","attr-type":"submit"},{default:n(()=>[o(" 提交 ")]),_:1})]),_:1},8,["form"])])]),_:1})}const f0=b(m0,[["render",B0]]),_0=h({setup(){const A=w([]),l=F({initialValues:{list:[{id:"1",now:Date.now(),rate:4,title:"父级标题",children:[{id:"1-1",now:Date.now(),rate:3,title:"子标题1"},{id:"1-2",now:Date.now(),rate:5,title:"子标题2"}]}]},onSubmit:console.log}),p=M(()=>{const i=new Map,a=(r,c=null)=>{r.forEach(s=>{i.set(s.id,{row:s,parent:c}),s.children&&a(s.children,s)})};return a(l.values.value.list),i});function d(i){A.value=A.value.filter(a=>a!==i)}return{form:l,columns:[{title:"",render:()=>null},{title:"Title",path:"title",field:"input",width:200},{title:"时间",path:"now",field:"date-time",width:200},{title:"评分",path:"rate",field:"rate"},{title:"操作",width:120,fixed:"right",render:(i,a,r)=>{const{remove:c,editable:s}=r;return e(k,null,{default:()=>[s?e(C,{text:!0,type:"primary",onClick:()=>{d(i.id)}},{default:()=>[o("保存")]}):[e(C,{text:!0,type:"primary",onClick:()=>A.value.push(i.id)},{default:()=>[o("编辑")]}),e(C,{text:!0,type:"error",onClick:()=>{d(i.id);const{parent:m}=p.value.get(i.id);if(!m)c(a);else{const _=(m.children??[]).findIndex(x=>x.id===i.id);~_&&m.children.splice(_,1)}}},{default:()=>[o("删除")]})]]})}}],editableKeys:A}}}),b0={class:"demo-card__view"},y0={class:"flex flex-col"};function h0(A,l,p,d,u,i){const a=g,r=C,c=v,s=D("component-demo");return E(),B(s,{"demo-file-name":"sub-column-table-add.vue","relative-url":"packages/components/src/edit-data-table/demos/zhCN/sub-column-table-add.demo.vue",title:"有子列的表格增加","ts-code":"%3Ctemplate%3E%0A%20%20%3Cpro-form%20%3Aform%3D%22form%22%3E%0A%20%20%20%20%3Cdiv%20class%3D%22flex%20flex-col%22%3E%0A%20%20%20%20%20%20%3Cpro-edit-data-table%0A%20%20%20%20%20%20%20%20v-model%3Aeditable-keys%3D%22editableKeys%22%0A%20%20%20%20%20%20%20%20path%3D%22list%22%0A%20%20%20%20%20%20%20%20%3Acolumns%3D%22columns%22%0A%20%20%20%20%20%20%20%20%3Arecord-creator-props%3D%22%7B%0A%20%20%20%20%20%20%20%20%20%20record%3A%20()%20%3D%3E%20(%7B%20id%3A%20Date.now()%20%7D)%2C%0A%20%20%20%20%20%20%20%20%20%20parentRowKey%3A%20'1'%2C%0A%20%20%20%20%20%20%20%20%7D%22%0A%20%20%20%20%20%20%20%20row-key%3D%22id%22%0A%20%20%20%20%20%20%2F%3E%0A%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%3Cn-button%20type%3D%22primary%22%20attr-type%3D%22submit%22%3E%0A%20%20%20%20%20%20%E6%8F%90%E4%BA%A4%0A%20%20%20%20%3C%2Fn-button%3E%0A%20%20%3C%2Fpro-form%3E%0A%3C%2Ftemplate%3E%0A%0A%3Cscript%20lang%3D%22tsx%22%3E%0Aimport%20type%20%7B%20ProEditDataTableColumns%20%7D%20from%20'pro-naive-ui'%0Aimport%20%7B%20createProForm%20%7D%20from%20'pro-naive-ui'%0Aimport%20%7B%20computed%2C%20defineComponent%2C%20ref%20%7D%20from%20'vue'%0A%0Ainterface%20DataSourceType%20%7B%0A%20%20id%3A%20string%0A%20%20title%3F%3A%20string%0A%20%20now%3F%3A%20number%0A%20%20rate%3F%3A%20number%0A%20%20children%3F%3A%20DataSourceType%5B%5D%0A%7D%0A%0Aexport%20default%20defineComponent(%7B%0A%20%20setup()%20%7B%0A%20%20%20%20const%20editableKeys%20%3D%20ref%3Cstring%5B%5D%3E(%5B%5D)%0A%20%20%20%20const%20form%20%3D%20createProForm(%7B%0A%20%20%20%20%20%20initialValues%3A%20%7B%0A%20%20%20%20%20%20%20%20list%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20'1'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20now%3A%20Date.now()%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20rate%3A%204%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20title%3A%20'%E7%88%B6%E7%BA%A7%E6%A0%87%E9%A2%98'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20children%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20'1-1'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20now%3A%20Date.now()%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20rate%3A%203%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20title%3A%20'%E5%AD%90%E6%A0%87%E9%A2%981'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20'1-2'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20now%3A%20Date.now()%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20rate%3A%205%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20title%3A%20'%E5%AD%90%E6%A0%87%E9%A2%982'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20onSubmit%3A%20console.log%2C%0A%20%20%20%20%7D)%0A%0A%20%20%20%20const%20rowItemToRowInfoMap%20%3D%20computed(()%20%3D%3E%20%7B%0A%20%20%20%20%20%20const%20map%20%3D%20new%20Map%3Cstring%2C%20%7B%20row%3A%20DataSourceType%2C%20parent%3A%20DataSourceType%20%7C%20null%20%7D%3E()%0A%20%20%20%20%20%20const%20traverse%20%3D%20(data%3A%20DataSourceType%5B%5D%2C%20parent%3A%20DataSourceType%20%7C%20null%20%3D%20null)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20data.forEach((item)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20map.set(item.id%2C%20%7B%20row%3A%20item%2C%20parent%20%7D)%0A%20%20%20%20%20%20%20%20%20%20if%20(item.children)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20traverse(item.children%2C%20item)%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D)%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20traverse(form.values.value.list)%0A%20%20%20%20%20%20return%20map%0A%20%20%20%20%7D)%0A%0A%20%20%20%20function%20cancelEditable(id%3A%20string)%20%7B%0A%20%20%20%20%20%20editableKeys.value%20%3D%20editableKeys.value.filter(key%20%3D%3E%20key%20!%3D%3D%20id)%0A%20%20%20%20%7D%0A%0A%20%20%20%20const%20columns%3A%20ProEditDataTableColumns%3CDataSourceType%3E%20%3D%20%5B%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20title%3A%20''%2C%0A%20%20%20%20%20%20%20%20render%3A%20()%20%3D%3E%20null%2C%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20title%3A%20'Title'%2C%0A%20%20%20%20%20%20%20%20path%3A%20'title'%2C%0A%20%20%20%20%20%20%20%20field%3A%20'input'%2C%0A%20%20%20%20%20%20%20%20width%3A%20200%2C%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20title%3A%20'%E6%97%B6%E9%97%B4'%2C%0A%20%20%20%20%20%20%20%20path%3A%20'now'%2C%0A%20%20%20%20%20%20%20%20field%3A%20'date-time'%2C%0A%20%20%20%20%20%20%20%20width%3A%20200%2C%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20title%3A%20'%E8%AF%84%E5%88%86'%2C%0A%20%20%20%20%20%20%20%20path%3A%20'rate'%2C%0A%20%20%20%20%20%20%20%20field%3A%20'rate'%2C%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20title%3A%20'%E6%93%8D%E4%BD%9C'%2C%0A%20%20%20%20%20%20%20%20width%3A%20120%2C%0A%20%20%20%20%20%20%20%20fixed%3A%20'right'%2C%0A%20%20%20%20%20%20%20%20render%3A%20(row%2C%20rowIndex%2C%20action)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20%7B%20remove%2C%20editable%20%7D%20%3D%20action%0A%20%20%20%20%20%20%20%20%20%20return%20(%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cn-flex%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7Beditable%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3F%20(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cn-button%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3D%7Btrue%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3D%22primary%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20onClick%3D%7B()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cancelEditable(row.id)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%E4%BF%9D%E5%AD%98%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fn-button%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cn-button%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3D%7Btrue%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3D%22primary%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20onClick%3D%7B()%20%3D%3E%20editableKeys.value.push(row.id)%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%E7%BC%96%E8%BE%91%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fn-button%3E%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cn-button%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3D%7Btrue%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3D%22error%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20onClick%3D%7B()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cancelEditable(row.id)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20%7B%20parent%20%7D%20%3D%20rowItemToRowInfoMap.value.get(row.id)!%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(!parent)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20remove(rowIndex)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20index%20%3D%20(parent.children%20%3F%3F%20%5B%5D).findIndex(item%20%3D%3E%20item.id%20%3D%3D%3D%20row.id)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(~index)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20parent.children!.splice(index%2C%201)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%E5%88%A0%E9%99%A4%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fn-button%3E%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5D%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fn-flex%3E%0A%20%20%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%5D%0A%0A%20%20%20%20return%20%7B%0A%20%20%20%20%20%20form%2C%0A%20%20%20%20%20%20columns%2C%0A%20%20%20%20%20%20editableKeys%2C%0A%20%20%20%20%7D%0A%20%20%7D%2C%0A%7D)%0A%3C%2Fscript%3E","js-code":"<!--JS_CODE_SLOT-->","language-type":"tsx"},{title:n(()=>[o(" 有子列的表格增加 ")]),content:n(()=>[]),demo:n(()=>[t("div",b0,[e(c,{form:A.form},{default:n(()=>[t("div",y0,[e(a,{"editable-keys":A.editableKeys,"onUpdate:editableKeys":l[0]||(l[0]=m=>A.editableKeys=m),path:"list",columns:A.columns,"record-creator-props":{record:()=>({id:Date.now()}),parentRowKey:"1"},"row-key":"id"},null,8,["editable-keys","columns","record-creator-props"])]),e(r,{type:"primary","attr-type":"submit"},{default:n(()=>[o(" 提交 ")]),_:1})]),_:1},8,["form"])])]),_:1})}const w0=b(_0,[["render",h0]]),F0=h({setup(){const A=w([]),l=F({initialValues:{list:[{id:"1",now:Date.now(),rate:4,title:"任务一"},{id:"2",now:Date.now(),rate:3,title:"任务二"},{id:"3",now:Date.now(),rate:5,title:"任务三"}]},onSubmit:console.log});function p(u){A.value=A.value.filter(i=>i!==u)}return{form:l,columns:[{title:"Title",width:200,render:(u,i,{editable:a})=>e(U,{path:"title",readonly:!a},null)},{title:"时间",path:"now",field:"date-time",width:200},{title:"评分",path:"rate",field:"rate"},{title:"操作",width:120,fixed:"right",render:(u,i,a)=>{const{remove:r,editable:c}=a;return e(k,null,{default:()=>[c?e(C,{text:!0,type:"primary",onClick:()=>p(u.id)},{default:()=>[o("保存")]}):[e(C,{text:!0,type:"primary",onClick:()=>A.value.push(u.id)},{default:()=>[o("编辑")]}),e(C,{text:!0,type:"error",onClick:()=>{r(i),p(u.id)}},{default:()=>[o("删除")]})]]})}}],editableKeys:A}}}),v0={class:"demo-card__view"},g0={class:"flex flex-col"};function k0(A,l,p,d,u,i){const a=g,r=C,c=v,s=D("component-demo");return E(),B(s,{"demo-file-name":"custom-table.vue","relative-url":"packages/components/src/edit-data-table/demos/zhCN/custom-table.demo.vue",title:"自定义可编辑表格","ts-code":"%3Ctemplate%3E%0A%20%20%3Cpro-form%20%3Aform%3D%22form%22%3E%0A%20%20%20%20%3Cdiv%20class%3D%22flex%20flex-col%22%3E%0A%20%20%20%20%20%20%3Cpro-edit-data-table%0A%20%20%20%20%20%20%20%20v-model%3Aeditable-keys%3D%22editableKeys%22%0A%20%20%20%20%20%20%20%20path%3D%22list%22%0A%20%20%20%20%20%20%20%20%3Acolumns%3D%22columns%22%0A%20%20%20%20%20%20%20%20%3Arecord-creator-props%3D%22%7B%0A%20%20%20%20%20%20%20%20%20%20record%3A%20()%20%3D%3E%20(%7B%20id%3A%20Date.now()%20%7D)%2C%0A%20%20%20%20%20%20%20%20%7D%22%0A%20%20%20%20%20%20%20%20row-key%3D%22id%22%0A%20%20%20%20%20%20%2F%3E%0A%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%3Cn-button%20type%3D%22primary%22%20attr-type%3D%22submit%22%3E%0A%20%20%20%20%20%20%E6%8F%90%E4%BA%A4%0A%20%20%20%20%3C%2Fn-button%3E%0A%20%20%3C%2Fpro-form%3E%0A%3C%2Ftemplate%3E%0A%0A%3Cscript%20lang%3D%22tsx%22%3E%0Aimport%20type%20%7B%20ProEditDataTableColumns%20%7D%20from%20'pro-naive-ui'%0Aimport%20%7B%20createProForm%2C%20ProInput%20%7D%20from%20'pro-naive-ui'%0Aimport%20%7B%20defineComponent%2C%20ref%20%7D%20from%20'vue'%0A%0Ainterface%20DataSourceType%20%7B%0A%20%20id%3A%20string%0A%20%20title%3F%3A%20string%0A%20%20now%3F%3A%20number%0A%20%20rate%3F%3A%20number%0A%7D%0A%0Aexport%20default%20defineComponent(%7B%0A%20%20setup()%20%7B%0A%20%20%20%20const%20editableKeys%20%3D%20ref%3Cstring%5B%5D%3E(%5B%5D)%0A%0A%20%20%20%20const%20form%20%3D%20createProForm(%7B%0A%20%20%20%20%20%20initialValues%3A%20%7B%0A%20%20%20%20%20%20%20%20list%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20'1'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20now%3A%20Date.now()%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20rate%3A%204%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20title%3A%20'%E4%BB%BB%E5%8A%A1%E4%B8%80'%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20'2'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20now%3A%20Date.now()%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20rate%3A%203%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20title%3A%20'%E4%BB%BB%E5%8A%A1%E4%BA%8C'%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20'3'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20now%3A%20Date.now()%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20rate%3A%205%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20title%3A%20'%E4%BB%BB%E5%8A%A1%E4%B8%89'%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20onSubmit%3A%20console.log%2C%0A%20%20%20%20%7D)%0A%0A%20%20%20%20function%20cancelEditable(id%3A%20string)%20%7B%0A%20%20%20%20%20%20editableKeys.value%20%3D%20editableKeys.value.filter(key%20%3D%3E%20key%20!%3D%3D%20id)%0A%20%20%20%20%7D%0A%0A%20%20%20%20const%20columns%3A%20ProEditDataTableColumns%3CDataSourceType%3E%20%3D%20%5B%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20title%3A%20'Title'%2C%0A%20%20%20%20%20%20%20%20width%3A%20200%2C%0A%20%20%20%20%20%20%20%20render%3A%20(_%2C%20__%2C%20%7B%20editable%20%7D)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20%3CProInput%20path%3D%22title%22%20readonly%3D%7B!editable%7D%20%2F%3E%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20title%3A%20'%E6%97%B6%E9%97%B4'%2C%0A%20%20%20%20%20%20%20%20path%3A%20'now'%2C%0A%20%20%20%20%20%20%20%20field%3A%20'date-time'%2C%0A%20%20%20%20%20%20%20%20width%3A%20200%2C%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20title%3A%20'%E8%AF%84%E5%88%86'%2C%0A%20%20%20%20%20%20%20%20path%3A%20'rate'%2C%0A%20%20%20%20%20%20%20%20field%3A%20'rate'%2C%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20title%3A%20'%E6%93%8D%E4%BD%9C'%2C%0A%20%20%20%20%20%20%20%20width%3A%20120%2C%0A%20%20%20%20%20%20%20%20fixed%3A%20'right'%2C%0A%20%20%20%20%20%20%20%20render%3A%20(row%2C%20rowIndex%2C%20action)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20%7B%20remove%2C%20editable%20%7D%20%3D%20action%0A%20%20%20%20%20%20%20%20%20%20return%20(%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cn-flex%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7Beditable%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3F%20(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cn-button%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3D%7Btrue%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3D%22primary%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20onClick%3D%7B()%20%3D%3E%20cancelEditable(row.id)%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%E4%BF%9D%E5%AD%98%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fn-button%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cn-button%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3D%7Btrue%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3D%22primary%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20onClick%3D%7B()%20%3D%3E%20editableKeys.value.push(row.id)%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%E7%BC%96%E8%BE%91%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fn-button%3E%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cn-button%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3D%7Btrue%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3D%22error%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20onClick%3D%7B()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20remove(rowIndex)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cancelEditable(row.id)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%E5%88%A0%E9%99%A4%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fn-button%3E%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5D%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fn-flex%3E%0A%20%20%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%5D%0A%0A%20%20%20%20return%20%7B%0A%20%20%20%20%20%20form%2C%0A%20%20%20%20%20%20columns%2C%0A%20%20%20%20%20%20editableKeys%2C%0A%20%20%20%20%7D%0A%20%20%7D%2C%0A%7D)%0A%3C%2Fscript%3E","js-code":"<!--JS_CODE_SLOT-->","language-type":"tsx"},{title:n(()=>[o(" 自定义可编辑表格 ")]),content:n(()=>[]),demo:n(()=>[t("div",v0,[e(c,{form:A.form},{default:n(()=>[t("div",g0,[e(a,{"editable-keys":A.editableKeys,"onUpdate:editableKeys":l[0]||(l[0]=m=>A.editableKeys=m),path:"list",columns:A.columns,"record-creator-props":{record:()=>({id:Date.now()})},"row-key":"id"},null,8,["editable-keys","columns","record-creator-props"])]),e(r,{type:"primary","attr-type":"submit"},{default:n(()=>[o(" 提交 ")]),_:1})]),_:1},8,["form"])])]),_:1})}const x0=b(F0,[["render",k0]]);function z(A){return new Promise(l=>setTimeout(l,A))}const T0=h({setup(){const A=w([]),l=F({initialValues:{list:[{id:"1",now:Date.now(),rate:4,title:"任务一"},{id:"2",now:Date.now(),rate:3,title:"任务二"},{id:"3",now:Date.now(),rate:5,title:"任务三"}]},onSubmit:console.log});async function p(a){await z(500),a.now=Date.now()-24*60*60*1e3,a.rate=Math.floor(Math.random()*5)+1}async function d(a){await z(500),l.values.value.list[a].title=`任务${Math.floor(Math.random()*100)}`,l.values.value.list[a].rate=Math.floor(Math.random()*5)+1}function u(a){A.value=A.value.filter(r=>r!==a)}return{form:l,columns:[{title:"Title",path:"title",field:"input",width:200,proFieldProps:a=>({required:!0,onChange:()=>{p(a)}})},{title:"时间",path:"now",field:"date-time",width:200,proFieldProps:(a,r)=>({required:!0,onChange:()=>{d(r)}})},{title:"评分",path:"rate",field:"rate"},{title:"操作",width:120,fixed:"right",render:(a,r,c)=>{const{remove:s,editable:m}=c;return e(k,null,{default:()=>[m?e(C,{text:!0,type:"primary",onClick:()=>u(a.id)},{default:()=>[o("保存")]}):[e(C,{text:!0,type:"primary",onClick:()=>A.value.push(a.id)},{default:()=>[o("编辑")]}),e(C,{text:!0,type:"error",onClick:()=>{s(r),u(a.id)}},{default:()=>[o("删除")]})]]})}}],editableKeys:A}}}),P0={class:"demo-card__view"},K0={class:"flex flex-col"};function S0(A,l,p,d,u,i){const a=g,r=C,c=v,s=D("component-demo");return E(),B(s,{"demo-file-name":"link-async-loop.vue","relative-url":"packages/components/src/edit-data-table/demos/zhCN/link-async-loop.demo.vue",title:"联动-异步循环","ts-code":"%3Ctemplate%3E%0A%20%20%3Cpro-form%20%3Aform%3D%22form%22%3E%0A%20%20%20%20%3Cdiv%20class%3D%22flex%20flex-col%22%3E%0A%20%20%20%20%20%20%3Cpro-edit-data-table%0A%20%20%20%20%20%20%20%20v-model%3Aeditable-keys%3D%22editableKeys%22%0A%20%20%20%20%20%20%20%20path%3D%22list%22%0A%20%20%20%20%20%20%20%20%3Acolumns%3D%22columns%22%0A%20%20%20%20%20%20%20%20%3Arecord-creator-props%3D%22%7B%0A%20%20%20%20%20%20%20%20%20%20record%3A%20()%20%3D%3E%20(%7B%20id%3A%20Date.now()%20%7D)%2C%0A%20%20%20%20%20%20%20%20%7D%22%0A%20%20%20%20%20%20%20%20row-key%3D%22id%22%0A%20%20%20%20%20%20%2F%3E%0A%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%3Cn-button%20type%3D%22primary%22%20attr-type%3D%22submit%22%3E%0A%20%20%20%20%20%20%E6%8F%90%E4%BA%A4%0A%20%20%20%20%3C%2Fn-button%3E%0A%20%20%3C%2Fpro-form%3E%0A%3C%2Ftemplate%3E%0A%0A%3Cscript%20lang%3D%22tsx%22%3E%0Aimport%20type%20%7B%20ProEditDataTableColumns%20%7D%20from%20'pro-naive-ui'%0Aimport%20%7B%20createProForm%20%7D%20from%20'pro-naive-ui'%0Aimport%20%7B%20defineComponent%2C%20ref%20%7D%20from%20'vue'%0A%0Ainterface%20DataSourceType%20%7B%0A%20%20id%3A%20string%0A%20%20title%3F%3A%20string%0A%20%20now%3F%3A%20number%0A%20%20rate%3F%3A%20number%0A%7D%0A%0Afunction%20delay(time%3A%20number)%20%7B%0A%20%20return%20new%20Promise(resolve%20%3D%3E%20setTimeout(resolve%2C%20time))%0A%7D%0A%0Aexport%20default%20defineComponent(%7B%0A%20%20setup()%20%7B%0A%20%20%20%20const%20editableKeys%20%3D%20ref%3Cstring%5B%5D%3E(%5B%5D)%0A%0A%20%20%20%20const%20form%20%3D%20createProForm(%7B%0A%20%20%20%20%20%20initialValues%3A%20%7B%0A%20%20%20%20%20%20%20%20list%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20'1'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20now%3A%20Date.now()%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20rate%3A%204%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20title%3A%20'%E4%BB%BB%E5%8A%A1%E4%B8%80'%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20'2'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20now%3A%20Date.now()%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20rate%3A%203%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20title%3A%20'%E4%BB%BB%E5%8A%A1%E4%BA%8C'%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20'3'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20now%3A%20Date.now()%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20rate%3A%205%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20title%3A%20'%E4%BB%BB%E5%8A%A1%E4%B8%89'%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20onSubmit%3A%20console.log%2C%0A%20%20%20%20%7D)%0A%0A%20%20%20%20async%20function%20fetchUpdateNowAndRate(row%3A%20DataSourceType)%20%7B%0A%20%20%20%20%20%20await%20delay(500)%0A%20%20%20%20%20%20row.now%20%3D%20Date.now()%20-%2024%20*%2060%20*%2060%20*%201000%0A%20%20%20%20%20%20row.rate%20%3D%20Math.floor(Math.random()%20*%205)%20%2B%201%0A%20%20%20%20%7D%0A%0A%20%20%20%20async%20function%20fetchUpdateTitleAndRate(index%3A%20number)%20%7B%0A%20%20%20%20%20%20await%20delay(500)%0A%20%20%20%20%20%20form.values.value.list%5Bindex%5D.title%20%3D%20%60%E4%BB%BB%E5%8A%A1%24%7BMath.floor(Math.random()%20*%20100)%7D%60%0A%20%20%20%20%20%20form.values.value.list%5Bindex%5D.rate%20%3D%20Math.floor(Math.random()%20*%205)%20%2B%201%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20cancelEditable(id%3A%20string)%20%7B%0A%20%20%20%20%20%20editableKeys.value%20%3D%20editableKeys.value.filter(key%20%3D%3E%20key%20!%3D%3D%20id)%0A%20%20%20%20%7D%0A%0A%20%20%20%20const%20columns%3A%20ProEditDataTableColumns%3CDataSourceType%3E%20%3D%20%5B%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20title%3A%20'Title'%2C%0A%20%20%20%20%20%20%20%20path%3A%20'title'%2C%0A%20%20%20%20%20%20%20%20field%3A%20'input'%2C%0A%20%20%20%20%20%20%20%20width%3A%20200%2C%0A%20%20%20%20%20%20%20%20proFieldProps%3A%20(row)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20required%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20onChange%3A%20()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20fetchUpdateNowAndRate(row)%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20title%3A%20'%E6%97%B6%E9%97%B4'%2C%0A%20%20%20%20%20%20%20%20path%3A%20'now'%2C%0A%20%20%20%20%20%20%20%20field%3A%20'date-time'%2C%0A%20%20%20%20%20%20%20%20width%3A%20200%2C%0A%20%20%20%20%20%20%20%20proFieldProps%3A%20(_%2C%20rowIndex)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20required%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20onChange%3A%20()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20fetchUpdateTitleAndRate(rowIndex)%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20title%3A%20'%E8%AF%84%E5%88%86'%2C%0A%20%20%20%20%20%20%20%20path%3A%20'rate'%2C%0A%20%20%20%20%20%20%20%20field%3A%20'rate'%2C%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20title%3A%20'%E6%93%8D%E4%BD%9C'%2C%0A%20%20%20%20%20%20%20%20width%3A%20120%2C%0A%20%20%20%20%20%20%20%20fixed%3A%20'right'%2C%0A%20%20%20%20%20%20%20%20render%3A%20(row%2C%20rowIndex%2C%20action)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20%7B%20remove%2C%20editable%20%7D%20%3D%20action%0A%20%20%20%20%20%20%20%20%20%20return%20(%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cn-flex%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7Beditable%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3F%20(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cn-button%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3D%7Btrue%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3D%22primary%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20onClick%3D%7B()%20%3D%3E%20cancelEditable(row.id)%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%E4%BF%9D%E5%AD%98%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fn-button%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cn-button%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3D%7Btrue%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3D%22primary%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20onClick%3D%7B()%20%3D%3E%20editableKeys.value.push(row.id)%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%E7%BC%96%E8%BE%91%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fn-button%3E%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cn-button%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3D%7Btrue%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3D%22error%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20onClick%3D%7B()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20remove(rowIndex)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cancelEditable(row.id)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%E5%88%A0%E9%99%A4%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fn-button%3E%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5D%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fn-flex%3E%0A%20%20%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%5D%0A%0A%20%20%20%20return%20%7B%0A%20%20%20%20%20%20form%2C%0A%20%20%20%20%20%20columns%2C%0A%20%20%20%20%20%20editableKeys%2C%0A%20%20%20%20%7D%0A%20%20%7D%2C%0A%7D)%0A%3C%2Fscript%3E","js-code":"<!--JS_CODE_SLOT-->","language-type":"tsx"},{title:n(()=>[o(" 联动-异步循环 ")]),content:n(()=>[]),demo:n(()=>[t("div",P0,[e(c,{form:A.form},{default:n(()=>[t("div",K0,[e(a,{"editable-keys":A.editableKeys,"onUpdate:editableKeys":l[0]||(l[0]=m=>A.editableKeys=m),path:"list",columns:A.columns,"record-creator-props":{record:()=>({id:Date.now()})},"row-key":"id"},null,8,["editable-keys","columns","record-creator-props"])]),e(r,{type:"primary","attr-type":"submit"},{default:n(()=>[o(" 提交 ")]),_:1})]),_:1},8,["form"])])]),_:1})}const $0=b(T0,[["render",S0]]);function V0(A){return new Promise(l=>{setTimeout(l,A)})}async function I0(){return await V0(1e3),{name:"zcf",userInfo:[{name:"zcf",age:18}],list:[{id:"1",now:Date.now(),rate:4,title:"任务一"},{id:"2",now:Date.now(),rate:3,title:"任务二"},{id:"3",now:Date.now(),rate:5,title:"任务三"}]}}const M0=h({setup(){const A=w([]),l=F({onSubmit:console.log}),{loading:p,run:d}=e0(I0,{manual:!0,onSuccess(a){l.restoreValidation(),l.values.value=a,l.setInitialValues(a)}});function u(a){A.value=A.value.filter(r=>r!==a)}return{form:l,loading:p,run:d,columns:[{title:"Title",path:"title",field:"input",width:200},{title:"时间",path:"now",field:"date-time",width:200},{title:"评分",path:"rate",field:"rate"},{title:"操作",width:120,fixed:"right",render:(a,r,c)=>{const{remove:s,editable:m}=c;return e(k,null,{default:()=>[m?e(C,{text:!0,type:"primary",onClick:()=>u(a.id)},{default:()=>[o("保存")]}):[e(C,{text:!0,type:"primary",onClick:()=>A.value.push(a.id)},{default:()=>[o("编辑")]}),e(C,{text:!0,type:"error",onClick:()=>{s(r),u(a.id)}},{default:()=>[o("删除")]})]]})}}],editableKeys:A}}}),N0={class:"demo-card__view"};function R0(A,l,p,d,u,i){const a=n0,r=D("router-link"),c=o0,s=C,m=k,_=U,x=Q,P=H,K=g,S=v,$=t0,V=D("component-demo");return E(),B(V,{"demo-file-name":"async.vue","relative-url":"packages/components/src/edit-data-table/demos/zhCN/async.demo.vue",title:"异步获取数据","ts-code":"%3Ctemplate%3E%0A%20%20%3Cn-flex%20class%3D%22mb-8px%22%3E%0A%20%20%20%20%3Cn-button%20%40click%3D%22run()%22%3E%0A%20%20%20%20%20%20%E8%AF%B7%E6%B1%82%0A%20%20%20%20%3C%2Fn-button%3E%0A%20%20%20%20%3Cn-button%20%40click%3D%22form.restoreFieldsValue%22%3E%0A%20%20%20%20%20%20%E9%87%8D%E7%BD%AE%0A%20%20%20%20%3C%2Fn-button%3E%0A%20%20%20%20%3Cn-button%20%40click%3D%22form.submit%22%3E%0A%20%20%20%20%20%20%E6%8F%90%E4%BA%A4%0A%20%20%20%20%3C%2Fn-button%3E%0A%20%20%3C%2Fn-flex%3E%0A%20%20%3Cn-spin%20%3Ashow%3D%22loading%22%3E%0A%20%20%20%20%3Cpro-form%20%3Aform%3D%22form%22%3E%0A%20%20%20%20%20%20%3Cpro-input%0A%20%20%20%20%20%20%20%20title%3D%22%E5%A7%93%E5%90%8D%22%0A%20%20%20%20%20%20%20%20path%3D%22name%22%0A%20%20%20%20%20%20%20%20required%0A%20%20%20%20%20%20%2F%3E%0A%20%20%20%20%20%20%3Cpro-form-list%0A%20%20%20%20%20%20%20%20title%3D%22%E7%94%A8%E6%88%B7%E4%BF%A1%E6%81%AF%22%0A%20%20%20%20%20%20%20%20path%3D%22userInfo%22%0A%20%20%20%20%20%20%20%20only-show-first-item-label%0A%20%20%20%20%20%20%20%20required%0A%20%20%20%20%20%20%3E%0A%20%20%20%20%20%20%20%20%3Cpro-input%0A%20%20%20%20%20%20%20%20%20%20title%3D%22%E5%A7%93%E5%90%8D%22%0A%20%20%20%20%20%20%20%20%20%20path%3D%22name%22%0A%20%20%20%20%20%20%20%20%20%20required%0A%20%20%20%20%20%20%20%20%2F%3E%0A%20%20%20%20%20%20%20%20%3Cpro-digit%0A%20%20%20%20%20%20%20%20%20%20title%3D%22%E5%B9%B4%E9%BE%84%22%0A%20%20%20%20%20%20%20%20%20%20path%3D%22age%22%0A%20%20%20%20%20%20%20%20%20%20required%0A%20%20%20%20%20%20%20%20%2F%3E%0A%20%20%20%20%20%20%3C%2Fpro-form-list%3E%0A%20%20%20%20%20%20%3Cpro-edit-data-table%0A%20%20%20%20%20%20%20%20v-model%3Aeditable-keys%3D%22editableKeys%22%0A%20%20%20%20%20%20%20%20path%3D%22list%22%0A%20%20%20%20%20%20%20%20title%3D%22%E5%88%97%E8%A1%A8%22%0A%20%20%20%20%20%20%20%20required%0A%20%20%20%20%20%20%20%20%3Acolumns%3D%22columns%22%0A%20%20%20%20%20%20%20%20%3Arecord-creator-props%3D%22%7B%0A%20%20%20%20%20%20%20%20%20%20record%3A%20()%20%3D%3E%20(%7B%20id%3A%20Date.now()%20%7D)%2C%0A%20%20%20%20%20%20%20%20%7D%22%0A%20%20%20%20%20%20%20%20row-key%3D%22id%22%0A%20%20%20%20%20%20%2F%3E%0A%20%20%20%20%3C%2Fpro-form%3E%0A%20%20%3C%2Fn-spin%3E%0A%3C%2Ftemplate%3E%0A%0A%3Cscript%20lang%3D%22tsx%22%3E%0Aimport%20type%20%7B%20ProEditDataTableColumns%20%7D%20from%20'pro-naive-ui'%0Aimport%20%7B%20createProForm%2C%20useRequest%20%7D%20from%20'pro-naive-ui'%0Aimport%20%7B%20defineComponent%2C%20ref%20%7D%20from%20'vue'%0A%0Ainterface%20DataSourceType%20%7B%0A%20%20id%3A%20string%0A%20%20title%3F%3A%20string%0A%20%20now%3F%3A%20number%0A%20%20rate%3F%3A%20number%0A%7D%0A%0Ainterface%20Info%20%7B%0A%20%20name%3A%20string%0A%20%20userInfo%3A%20Array%3C%7B%0A%20%20%20%20age%3A%20number%0A%20%20%20%20name%3A%20string%0A%20%20%7D%3E%0A%20%20list%3A%20DataSourceType%5B%5D%0A%7D%0A%0Afunction%20delay(time%3A%20number)%20%7B%0A%20%20return%20new%20Promise((resolve)%20%3D%3E%20%7B%0A%20%20%20%20setTimeout(resolve%2C%20time)%0A%20%20%7D)%0A%7D%0A%0Aasync%20function%20reqUserInfo()%20%7B%0A%20%20await%20delay(1000)%0A%20%20const%20result%3A%20Info%20%3D%20%7B%0A%20%20%20%20name%3A%20'zcf'%2C%0A%20%20%20%20userInfo%3A%20%5B%0A%20%20%20%20%20%20%7B%20name%3A%20'zcf'%2C%20age%3A%2018%20%7D%2C%0A%20%20%20%20%5D%2C%0A%20%20%20%20list%3A%20%5B%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20id%3A%20'1'%2C%0A%20%20%20%20%20%20%20%20now%3A%20Date.now()%2C%0A%20%20%20%20%20%20%20%20rate%3A%204%2C%0A%20%20%20%20%20%20%20%20title%3A%20'%E4%BB%BB%E5%8A%A1%E4%B8%80'%2C%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20id%3A%20'2'%2C%0A%20%20%20%20%20%20%20%20now%3A%20Date.now()%2C%0A%20%20%20%20%20%20%20%20rate%3A%203%2C%0A%20%20%20%20%20%20%20%20title%3A%20'%E4%BB%BB%E5%8A%A1%E4%BA%8C'%2C%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20id%3A%20'3'%2C%0A%20%20%20%20%20%20%20%20now%3A%20Date.now()%2C%0A%20%20%20%20%20%20%20%20rate%3A%205%2C%0A%20%20%20%20%20%20%20%20title%3A%20'%E4%BB%BB%E5%8A%A1%E4%B8%89'%2C%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%5D%2C%0A%20%20%7D%0A%20%20return%20result%0A%7D%0A%0Aexport%20default%20defineComponent(%7B%0A%20%20setup()%20%7B%0A%20%20%20%20const%20editableKeys%20%3D%20ref%3Cstring%5B%5D%3E(%5B%5D)%0A%20%20%20%20const%20form%20%3D%20createProForm%3CPartial%3CInfo%3E%3E(%7B%0A%20%20%20%20%20%20onSubmit%3A%20console.log%2C%0A%20%20%20%20%7D)%0A%0A%20%20%20%20const%20%7B%20loading%2C%20run%20%7D%20%3D%20useRequest(reqUserInfo%2C%20%7B%0A%20%20%20%20%20%20manual%3A%20true%2C%0A%20%20%20%20%20%20onSuccess(res)%20%7B%0A%20%20%20%20%20%20%20%20form.restoreValidation()%20%2F%2F%20%E6%A0%B9%E6%8D%AE%E5%AE%9E%E9%99%85%E9%9C%80%E6%B1%82%E5%88%A4%E6%96%AD%E6%98%AF%E5%90%A6%E9%9C%80%E8%A6%81%E6%B7%BB%E5%8A%A0%E6%AD%A4%E4%BB%A3%E7%A0%81%EF%BC%8C%E8%BF%99%E9%87%8C%E6%B7%BB%E5%8A%A0%E6%AD%A4%E8%A1%8C%E4%BB%A3%E7%A0%81%E6%98%AF%E6%9C%89%E5%8F%AF%E8%83%BD%E5%85%88%E7%82%B9%E5%87%BB%E6%8F%90%E4%BA%A4%E8%A7%A6%E5%8F%91%E6%A0%A1%E9%AA%8C%EF%BC%8C%E5%9C%A8%E7%82%B9%E5%87%BB%E8%8E%B7%E5%8F%96%E6%95%B0%E6%8D%AE%E9%9C%80%E8%A6%81%E6%B8%85%E7%A9%BA%E6%A0%A1%E9%AA%8C%0A%20%20%20%20%20%20%20%20form.values.value%20%3D%20res%0A%20%20%20%20%20%20%20%20form.setInitialValues(res)%20%2F%2F%20%E5%B0%86%E8%AF%B7%E6%B1%82%E5%9B%9E%E6%9D%A5%E7%9A%84%E5%80%BC%E4%BD%9C%E4%B8%BA%E5%88%9D%E5%A7%8B%E5%80%BC%EF%BC%8C%E9%87%8D%E7%BD%AE%E4%BC%9A%E5%9B%9E%E5%88%B0%E5%88%9D%E5%A7%8B%E5%80%BC%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%7D)%0A%0A%20%20%20%20function%20cancelEditable(id%3A%20string)%20%7B%0A%20%20%20%20%20%20editableKeys.value%20%3D%20editableKeys.value.filter(key%20%3D%3E%20key%20!%3D%3D%20id)%0A%20%20%20%20%7D%0A%0A%20%20%20%20const%20columns%3A%20ProEditDataTableColumns%3CDataSourceType%3E%20%3D%20%5B%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20title%3A%20'Title'%2C%0A%20%20%20%20%20%20%20%20path%3A%20'title'%2C%0A%20%20%20%20%20%20%20%20field%3A%20'input'%2C%0A%20%20%20%20%20%20%20%20width%3A%20200%2C%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20title%3A%20'%E6%97%B6%E9%97%B4'%2C%0A%20%20%20%20%20%20%20%20path%3A%20'now'%2C%0A%20%20%20%20%20%20%20%20field%3A%20'date-time'%2C%0A%20%20%20%20%20%20%20%20width%3A%20200%2C%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20title%3A%20'%E8%AF%84%E5%88%86'%2C%0A%20%20%20%20%20%20%20%20path%3A%20'rate'%2C%0A%20%20%20%20%20%20%20%20field%3A%20'rate'%2C%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20title%3A%20'%E6%93%8D%E4%BD%9C'%2C%0A%20%20%20%20%20%20%20%20width%3A%20120%2C%0A%20%20%20%20%20%20%20%20fixed%3A%20'right'%2C%0A%20%20%20%20%20%20%20%20render%3A%20(row%2C%20rowIndex%2C%20action)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20%7B%20remove%2C%20editable%20%7D%20%3D%20action%0A%20%20%20%20%20%20%20%20%20%20return%20(%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cn-flex%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7Beditable%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3F%20(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cn-button%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3D%7Btrue%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3D%22primary%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20onClick%3D%7B()%20%3D%3E%20cancelEditable(row.id)%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%E4%BF%9D%E5%AD%98%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fn-button%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cn-button%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3D%7Btrue%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3D%22primary%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20onClick%3D%7B()%20%3D%3E%20editableKeys.value.push(row.id)%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%E7%BC%96%E8%BE%91%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fn-button%3E%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cn-button%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3D%7Btrue%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3D%22error%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20onClick%3D%7B()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20remove(rowIndex)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cancelEditable(row.id)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%E5%88%A0%E9%99%A4%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fn-button%3E%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5D%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fn-flex%3E%0A%20%20%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%5D%0A%0A%20%20%20%20return%20%7B%0A%20%20%20%20%20%20form%2C%0A%20%20%20%20%20%20loading%2C%0A%20%20%20%20%20%20run%2C%0A%20%20%20%20%20%20columns%2C%0A%20%20%20%20%20%20editableKeys%2C%0A%20%20%20%20%7D%0A%20%20%7D%2C%0A%7D)%0A%3C%2Fscript%3E","js-code":"<!--JS_CODE_SLOT-->","language-type":"tsx"},{title:n(()=>[o(" 异步获取数据 ")]),content:n(()=>[e(c,null,{default:n(()=>[o("你可以使用 "),e(r,{to:"use-request",custom:""},{default:n(({navigate:y,href:I})=>[e(a,{href:I,onClick:y},{default:n(()=>[o("useRequest")]),_:2},1032,["href","onClick"])]),_:1}),o(" 异步获取数据")]),_:1})]),demo:n(()=>[t("div",N0,[e(m,{class:"mb-8px"},{default:n(()=>[e(s,{onClick:l[0]||(l[0]=y=>A.run())},{default:n(()=>[o(" 请求 ")]),_:1}),e(s,{onClick:A.form.restoreFieldsValue},{default:n(()=>[o(" 重置 ")]),_:1},8,["onClick"]),e(s,{onClick:A.form.submit},{default:n(()=>[o(" 提交 ")]),_:1},8,["onClick"])]),_:1}),e($,{show:A.loading},{default:n(()=>[e(S,{form:A.form},{default:n(()=>[e(_,{title:"姓名",path:"name",required:""}),e(P,{title:"用户信息",path:"userInfo","only-show-first-item-label":"",required:""},{default:n(()=>[e(_,{title:"姓名",path:"name",required:""}),e(x,{title:"年龄",path:"age",required:""})]),_:1}),e(K,{"editable-keys":A.editableKeys,"onUpdate:editableKeys":l[1]||(l[1]=y=>A.editableKeys=y),path:"list",title:"列表",required:"",columns:A.columns,"record-creator-props":{record:()=>({id:Date.now()})},"row-key":"id"},null,8,["editable-keys","columns","record-creator-props"])]),_:1},8,["form"])]),_:1},8,["show"])])]),_:1})}const q0=b(M0,[["render",R0]]),z0={components:{basicVueDemo:i0,rowDblclickEditVueDemo:D0,guardVueDemo:f0,subColumnTableAddVueDemo:w0,customTableVueDemo:x0,linkAsyncLoopVueDemo:$0,asyncVueDemo:q0},setup(){const A=W(),l=X(()=>!A.value),p=A;return{showAnchor:l,displayMode:Z(),wrapperStyle:M(()=>p.value?"padding: 16px 16px 24px 16px;":"display: flex; flex-wrap: nowrap; padding: 32px 24px 56px 56px;"),contentStyle:M(()=>l.value?"width: calc(100% - 228px); margin-right: 36px;":"width: 100%; padding-right: 12px;"),url:"packages/components/src/edit-data-table/demos/zhCN/index.demo-entry.md"}}},U0=t("pre",null,[t("span",{class:"hljs-keyword"},"import"),o(),t("span",{class:"hljs-keyword"},"type"),o(" { "),t("span",{class:"hljs-title class_"},"ProEditDataTableRecordCreatorProps"),o(", "),t("span",{class:"hljs-title class_"},"ProEditDataTableActionGuard"),o(", "),t("span",{class:"hljs-title class_"},"ProEditDataTableColumns"),o(", "),t("span",{class:"hljs-title class_"},"ProDataTableProps"),o(" } "),t("span",{class:"hljs-keyword"},"from"),o(),t("span",{class:"hljs-string"},"'pro-naive-ui'")],-1),j0={class:"md-table-wrapper"},O0=t("thead",null,[t("tr",null,[t("th",null,"名称"),t("th",null,"类型"),t("th",null,"默认值"),t("th",null,"说明"),t("th",null,"版本")])],-1),G0=t("td",null,"editableKeys",-1),L0=t("td",null,null,-1),J0=t("td",null,"recordCreatorProps",-1),Y0=t("td",null,"添加一行数据功能的配置",-1),H0=t("td",null,null,-1),Q0=t("td",null,"max",-1),W0=t("td",null,"最多行数，多于该数则无法继续新增",-1),X0=t("td",null,null,-1),Z0=t("td",null,"actionGuard",-1),e2=t("td",null,"操作拦截器",-1),t2=t("td",null,null,-1),o2=t("td",null,"columns",-1),n2=t("td",null,"需要展示的列",-1),A2=t("td",null,null,-1),r2=t("td",null,"fieldProps",-1),l2=t("td",null,null,-1),a2=t("td",null,"onUpdateEditableKeys",-1),i2=t("td",null,null,-1),d2=t("td",null,null,-1),s2=t("td",null,null,-1),u2=t("td",null,null,-1),c2=t("td",null,null,-1),D2=t("td",null,null,-1),p2=t("td",null,null,-1),m2=t("td",null,null,-1),C2=t("td",null,null,-1),E2={class:"md-table-wrapper"},B2=t("thead",null,[t("tr",null,[t("th",null,"名称"),t("th",null,"参数"),t("th",null,"说明"),t("th",null,"版本")])],-1),f2=t("td",null,null,-1),_2=t("td",null,null,-1),b2=t("td",null,null,-1),y2=t("td",null,null,-1),h2=t("td",null,null,-1),w2={key:0,style:{width:"192px"}};function F2(A,l,p,d,u,i){const a=D("n-h1"),r=D("n-text"),c=D("n-p"),s=D("n-h2"),m=D("basicVueDemo"),_=D("rowDblclickEditVueDemo"),x=D("guardVueDemo"),P=D("subColumnTableAddVueDemo"),K=D("customTableVueDemo"),S=D("linkAsyncLoopVueDemo"),$=D("asyncVueDemo"),V=D("component-demos"),y=D("n-h3"),I=D("n-code"),O=D("n-scrollbar"),G=D("n-card"),T=D("n-a"),N=D("n-table"),f=D("n-anchor-link"),L=D("n-anchor");return E(),R("div",{class:"doc",style:q(d.wrapperStyle)},[t("div",{style:q(d.contentStyle)},[e(a,{id:"编辑表格-ProEditDataTable"},{default:n(()=>[o("编辑表格 ProEditDataTable")]),_:1}),e(c,null,{default:n(()=>[o("可编辑表格 "),e(r,{code:""},{default:n(()=>[o("ProEditDataTable")]),_:1}),o(" 与 "),e(r,{code:""},{default:n(()=>[o("ProDataTable")]),_:1}),o(" 的功能基本相同，为了更方便的集成在表单中，数据源被 "),e(r,{code:""},{default:n(()=>[o("ProForm")]),_:1}),o(" 接管")]),_:1}),e(c,null,{default:n(()=>[e(r,{code:""},{default:n(()=>[o("2.1.0")]),_:1}),o(" 版本开始提供该组件")]),_:1}),e(s,{id:"演示"},{default:n(()=>[o("演示")]),_:1}),e(V,{span:1},{default:n(()=>[e(m),e(_),e(x),e(P),e(K),e(S),e($)]),_:1}),e(s,{id:"API"},{default:n(()=>[o("API")]),_:1}),e(y,{id:"ProEditDataTable-属性"},{default:n(()=>[o("ProEditDataTable 属性")]),_:1}),e(c,null,{default:n(()=>[o("引用到的类型声明介绍如下")]),_:1}),e(G,{embedded:"",bordered:!1,class:"md-card","content-style":"padding: 0;"},{default:n(()=>[e(O,{"x-scrollable":"","content-style":"padding: 16px;"},{default:n(()=>[e(I,null,{default:n(()=>[U0]),_:1})]),_:1})]),_:1}),t("div",j0,[e(N,{"single-column":"",class:"md-table"},{default:n(()=>[O0,t("tbody",null,[t("tr",null,[G0,t("td",null,[e(r,{code:""},{default:n(()=>[o("number[] | string[]")]),_:1})]),t("td",null,[e(r,{code:""},{default:n(()=>[o("-")]),_:1})]),t("td",null,[o("展示编辑模式行的 "),e(r,{code:""},{default:n(()=>[o("key")]),_:1}),o(" 值")]),L0]),t("tr",null,[J0,t("td",null,[e(r,{code:""},{default:n(()=>[o("ProEditDataTableRecordCreatorProps")]),_:1})]),t("td",null,[e(r,{code:""},{default:n(()=>[o("-")]),_:1})]),Y0,H0]),t("tr",null,[Q0,t("td",null,[e(r,{code:""},{default:n(()=>[o("number")]),_:1})]),t("td",null,[e(r,{code:""},{default:n(()=>[o("-")]),_:1})]),W0,X0]),t("tr",null,[Z0,t("td",null,[e(r,{code:""},{default:n(()=>[o("ProEditDataTableActionGuard")]),_:1})]),t("td",null,[e(r,{code:""},{default:n(()=>[o("-")]),_:1})]),e2,t2]),t("tr",null,[o2,t("td",null,[e(r,{code:""},{default:n(()=>[o("ProEditDataTableColumns")]),_:1})]),t("td",null,[e(r,{code:""},{default:n(()=>[o("[]")]),_:1})]),n2,A2]),t("tr",null,[r2,t("td",null,[e(r,{code:""},{default:n(()=>[o("ProDataTableProps")]),_:1})]),t("td",null,[e(r,{code:""},{default:n(()=>[o("-")]),_:1})]),t("td",null,[o("有冲突的属性可以写在 "),e(r,{code:""},{default:n(()=>[o("fieldProps")]),_:1}),o(" 中，会透传给 "),e(r,{code:""},{default:n(()=>[o("ProDataTable")]),_:1})]),l2]),t("tr",null,[a2,t("td",null,[e(r,{code:""},{default:n(()=>[o("(keys: string[] | number[]) => void")]),_:1})]),t("td",null,[e(r,{code:""},{default:n(()=>[o("-")]),_:1})]),t("td",null,[o("编辑模式行的 "),e(r,{code:""},{default:n(()=>[o("key")]),_:1}),o(" 值 "),e(r,{code:""},{default:n(()=>[o("change")]),_:1}),o(" 时触发")]),i2]),t("tr",null,[t("td",null,[e(T,{href:"https://naive-ui.pro-components.cn/zh-CN/os-theme/components/data-table#ProDataTable-%E5%B1%9E%E6%80%A7",target:"_blank"},{default:n(()=>[o("参考 ProDataTable")]),_:1})]),d2,s2,u2,c2]),t("tr",null,[t("td",null,[e(T,{href:"https://naive-ui.pro-components.cn/zh-CN/os-theme/components/field#%E9%80%9A%E7%94%A8%E7%9A%84%E5%B1%9E%E6%80%A7",target:"_blank"},{default:n(()=>[o("参考 ProField")]),_:1})]),D2,p2,m2,C2])])]),_:1})]),e(y,{id:"ProEditDataTable-插槽"},{default:n(()=>[o("ProEditDataTable 插槽")]),_:1}),t("div",E2,[e(N,{"single-column":"",class:"md-table"},{default:n(()=>[B2,t("tbody",null,[t("tr",null,[t("td",null,[e(T,{href:"https://naive-ui.pro-components.cn/zh-CN/os-theme/components/data-table#ProDataTable-%E6%8F%92%E6%A7%BD",target:"_blank"},{default:n(()=>[o("参考 ProDataTable")]),_:1})]),f2,_2,b2]),t("tr",null,[t("td",null,[e(T,{href:"https://naive-ui.pro-components.cn/zh-CN/os-theme/components/field#%E9%80%9A%E7%94%A8%E7%9A%84%E6%8F%92%E6%A7%BD",target:"_blank"},{default:n(()=>[o("参考 ProField")]),_:1})]),y2,t("td",null,[o("不支持 "),e(r,{code:""},{default:n(()=>[o("input")]),_:1}),o(" 插槽")]),h2])])]),_:1})])],4),d.showAnchor?(E(),R("div",w2,[e(L,{"internal-scrollable":"",bound:16,type:"block",style:{width:"192px",position:"sticky",top:"32px","max-height":"calc(100vh - 32px - 64px)",height:"auto"},"offset-target":"#doc-layout","ignore-gap":!0},{default:n(()=>[(d.displayMode,E(),B(f,{key:0,title:"基本展示",href:"#basic.vue"})),(d.displayMode,E(),B(f,{key:1,title:"双击行编辑",href:"#row-dblclick-edit.vue"})),(d.displayMode,E(),B(f,{key:2,title:"拦截器",href:"#guard.vue"})),(d.displayMode,E(),B(f,{key:3,title:"有子列的表格增加",href:"#sub-column-table-add.vue"})),(d.displayMode,E(),B(f,{key:4,title:"自定义可编辑表格",href:"#custom-table.vue"})),(d.displayMode,E(),B(f,{key:5,title:"联动-异步循环",href:"#link-async-loop.vue"})),(d.displayMode,E(),B(f,{key:6,title:"异步获取数据",href:"#async.vue"})),(d.displayMode,E(),B(f,{key:7,title:"API",href:"#API"})),(d.displayMode,E(),B(f,{key:8,title:"ProEditDataTable 属性",href:"#ProEditDataTable-属性"})),(d.displayMode,E(),B(f,{key:9,title:"ProEditDataTable 插槽",href:"#ProEditDataTable-插槽"}))]),_:1})])):J("",!0)],4)}const N2=b(z0,[["render",F2]]);export{N2 as default};
