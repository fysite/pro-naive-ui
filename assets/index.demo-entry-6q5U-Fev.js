import{u as F}from"./useNDataTable-B-JtoeD1.js";import{k as P,Y as c,_ as f,L as m,$ as t,K as l,R as o,s as k,j as e,c as w,J as R,a0 as Z,O as q}from"./vue-yiQq_PH0.js";import{_ as v,aN as E,V as O,b as I,Z as L,u as G,f as H,a as U}from"./index-DNthuo1K.js";import{_ as x}from"./p-0UWStOQg.js";import{_ as S}from"./text-Do3thO70.js";import{_ as W}from"./a-BBNZkjYd.js";import{_ as X,a as e0}from"./ul-Dj8WtYR0.js";import"./useRequest-CJFDE46X.js";import"./lodash-es-B1kh5og4.js";import"./naive-ui-CAwxRKuH.js";import"./vue-router-IiN1iUNi.js";import"./highlight.js-Dis82wzk.js";import"./vicons-ySDBKu-B.js";function t0({current:a,pageSize:r}){console.log(a,r);const u=`page=${a}&size=${r}`;return fetch(`https://randomuser.me/api?results=55&${u}`).then(s=>s.json()).then(s=>({list:s.results.slice(0,10),total:s.info.results}))}const o0=P({setup(){const{table:{tableProps:a}}=F(t0);return{columns:[{title:"name",key:"name.last"},{title:"email",key:"email"},{title:"phone",key:"phone"},{title:"gender",key:"gender"}],tableProps:a}}}),l0={class:"demo-card__view"};function n0(a,r,u,s,A,p){const i=S,n=x,d=E,_=c("component-demo");return m(),f(_,{"demo-file-name":"table.vue","relative-url":"packages/components/src/composables/demos/use-n-data-table/zhCN/table.demo.vue",title:"Table 管理","ts-code":"%3Ctemplate%3E%0A%20%20%3Cn-data-table%0A%20%20%20%20%3Acolumns%3D%22columns%22%0A%20%20%20%20%3Arow-key%3D%22(row%3Aany)%20%3D%3E%20row.email%22%0A%20%20%20%20v-bind%3D%22tableProps%22%0A%20%20%2F%3E%0A%3C%2Ftemplate%3E%0A%0A%3Cscript%20lang%3D%22tsx%22%3E%0Aimport%20%7B%20useNDataTable%20%7D%20from%20'pro-naive-ui'%0Aimport%20%7B%20defineComponent%20%7D%20from%20'vue'%0A%0Ainterface%20Item%20%7B%0A%20%20name%3A%20%7B%0A%20%20%20%20last%3A%20string%0A%20%20%7D%0A%20%20email%3A%20string%0A%20%20phone%3A%20string%0A%20%20gender%3A%20'male'%20%7C%20'female'%0A%7D%0A%0Ainterface%20Result%20%7B%0A%20%20total%3A%20number%0A%20%20list%3A%20Item%5B%5D%0A%7D%0A%0Afunction%20getTableData(%7B%20current%2C%20pageSize%20%7D%3A%20any)%3A%20Promise%3CResult%3E%20%7B%0A%20%20console.log(current%2C%20pageSize)%0A%20%20const%20query%20%3D%20%60page%3D%24%7Bcurrent%7D%26size%3D%24%7BpageSize%7D%60%0A%0A%20%20return%20fetch(%60https%3A%2F%2Frandomuser.me%2Fapi%3Fresults%3D55%26%24%7Bquery%7D%60)%0A%20%20%20%20.then(res%20%3D%3E%20res.json())%0A%20%20%20%20.then(res%20%3D%3E%20(%7B%0A%20%20%20%20%20%20list%3A%20res.results.slice(0%2C%2010)%2C%0A%20%20%20%20%20%20total%3A%20res.info.results%2C%0A%20%20%20%20%7D))%0A%7D%0A%0Aexport%20default%20defineComponent(%7B%0A%20%20setup()%20%7B%0A%20%20%20%20const%20%7B%20table%3A%20%7B%20tableProps%20%7D%20%7D%20%3D%20useNDataTable(getTableData)%0A%0A%20%20%20%20const%20columns%20%3D%20%5B%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20title%3A%20'name'%2C%0A%20%20%20%20%20%20%20%20key%3A%20'name.last'%2C%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20title%3A%20'email'%2C%0A%20%20%20%20%20%20%20%20key%3A%20'email'%2C%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20title%3A%20'phone'%2C%0A%20%20%20%20%20%20%20%20key%3A%20'phone'%2C%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20title%3A%20'gender'%2C%0A%20%20%20%20%20%20%20%20key%3A%20'gender'%2C%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%5D%0A%0A%20%20%20%20return%20%7B%0A%20%20%20%20%20%20columns%2C%0A%20%20%20%20%20%20tableProps%2C%0A%20%20%20%20%7D%0A%20%20%7D%2C%0A%7D)%0A%3C%2Fscript%3E","js-code":"<!--JS_CODE_SLOT-->","language-type":"tsx"},{title:t(()=>[e(" Table 管理 ")]),content:t(()=>[o(n,null,{default:t(()=>[o(i,{code:""},{default:t(()=>[e("useNDataTable")]),_:1}),e(" 会自动管理表格分页数据，你只需要将返回的 "),o(i,{code:""},{default:t(()=>[e("table")]),_:1}),e(" 属性中的 "),o(i,{code:""},{default:t(()=>[e("tableProps")]),_:1}),e(" 传递给组件就可以了。")]),_:1})]),demo:t(()=>[l("div",l0,[o(d,k({columns:a.columns,"row-key":h=>h.email},a.tableProps),null,16,["columns","row-key"])])]),_:1})}const a0=v(o0,[["render",n0]]);function s0({current:a,pageSize:r}){console.log(a,r);const u=`page=${a}&size=${r}`;return fetch(`https://randomuser.me/api?results=55&${u}`).then(s=>s.json()).then(s=>({list:s.results.slice(0,10),total:s.info.results}))}const r0=P({setup(){const{table:{tableProps:a}}=F(s0),r=[{title:"name",key:"name.last"},{title:"email",key:"email"},{title:"phone",key:"phone"},{title:"gender",key:"gender"}],u=w(()=>{const{pagination:s,...A}=a.value;return{...A,pagination:{...s,showSizePicker:!0,showQuickJumper:!0,pageSizes:[10,20,30,40],prefix:({itemCount:p})=>`Total is ${p}.`}}});return{columns:r,finalTableProps:u}}}),c0={class:"demo-card__view"};function u0(a,r,u,s,A,p){const i=S,n=W,d=c("router-link"),_=x,h=E,D=c("component-demo");return m(),f(D,{"demo-file-name":"table-extra-pagination-prop.vue","relative-url":"packages/components/src/composables/demos/use-n-data-table/zhCN/table-extra-pagination-prop.demo.vue",title:"额外的分页属性","ts-code":"%3Ctemplate%3E%0A%20%20%3Cn-data-table%0A%20%20%20%20%3Acolumns%3D%22columns%22%0A%20%20%20%20%3Arow-key%3D%22(row%3Aany)%20%3D%3E%20row.email%22%0A%20%20%20%20v-bind%3D%22finalTableProps%22%0A%20%20%2F%3E%0A%3C%2Ftemplate%3E%0A%0A%3Cscript%20lang%3D%22tsx%22%3E%0Aimport%20type%20%7B%20DataTableProps%20%7D%20from%20'naive-ui'%0Aimport%20%7B%20useNDataTable%20%7D%20from%20'pro-naive-ui'%0Aimport%20%7B%20computed%2C%20defineComponent%20%7D%20from%20'vue'%0A%0Ainterface%20Item%20%7B%0A%20%20name%3A%20%7B%0A%20%20%20%20last%3A%20string%0A%20%20%7D%0A%20%20email%3A%20string%0A%20%20phone%3A%20string%0A%20%20gender%3A%20'male'%20%7C%20'female'%0A%7D%0A%0Ainterface%20Result%20%7B%0A%20%20total%3A%20number%0A%20%20list%3A%20Item%5B%5D%0A%7D%0A%0Afunction%20getTableData(%7B%20current%2C%20pageSize%20%7D%3A%20any)%3A%20Promise%3CResult%3E%20%7B%0A%20%20console.log(current%2C%20pageSize)%0A%20%20const%20query%20%3D%20%60page%3D%24%7Bcurrent%7D%26size%3D%24%7BpageSize%7D%60%0A%0A%20%20return%20fetch(%60https%3A%2F%2Frandomuser.me%2Fapi%3Fresults%3D55%26%24%7Bquery%7D%60)%0A%20%20%20%20.then(res%20%3D%3E%20res.json())%0A%20%20%20%20.then(res%20%3D%3E%20(%7B%0A%20%20%20%20%20%20list%3A%20res.results.slice(0%2C%2010)%2C%0A%20%20%20%20%20%20total%3A%20res.info.results%2C%0A%20%20%20%20%7D))%0A%7D%0A%0Aexport%20default%20defineComponent(%7B%0A%20%20setup()%20%7B%0A%20%20%20%20const%20%7B%20table%3A%20%7B%20tableProps%20%7D%20%7D%20%3D%20useNDataTable(getTableData)%0A%0A%20%20%20%20const%20columns%20%3D%20%5B%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20title%3A%20'name'%2C%0A%20%20%20%20%20%20%20%20key%3A%20'name.last'%2C%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20title%3A%20'email'%2C%0A%20%20%20%20%20%20%20%20key%3A%20'email'%2C%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20title%3A%20'phone'%2C%0A%20%20%20%20%20%20%20%20key%3A%20'phone'%2C%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20title%3A%20'gender'%2C%0A%20%20%20%20%20%20%20%20key%3A%20'gender'%2C%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%5D%0A%0A%20%20%20%20const%20finalTableProps%20%3D%20computed%3CDataTableProps%3E(()%20%3D%3E%20%7B%0A%20%20%20%20%20%20const%20%7B%20pagination%2C%20...rest%20%7D%20%3D%20tableProps.value%0A%20%20%20%20%20%20return%20%7B%0A%20%20%20%20%20%20%20%20...rest%2C%0A%20%20%20%20%20%20%20%20pagination%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20...pagination%2C%0A%20%20%20%20%20%20%20%20%20%20showSizePicker%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20showQuickJumper%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20pageSizes%3A%20%5B10%2C%2020%2C%2030%2C%2040%5D%2C%0A%20%20%20%20%20%20%20%20%20%20prefix%3A%20(%7B%20itemCount%20%7D)%20%3D%3E%20%60Total%20is%20%24%7BitemCount%7D.%60%2C%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D)%0A%0A%20%20%20%20return%20%7B%0A%20%20%20%20%20%20columns%2C%0A%20%20%20%20%20%20finalTableProps%2C%0A%20%20%20%20%7D%0A%20%20%7D%2C%0A%7D)%0A%3C%2Fscript%3E","js-code":"<!--JS_CODE_SLOT-->","language-type":"tsx"},{title:t(()=>[e(" 额外的分页属性 ")]),content:t(()=>[o(_,null,{default:t(()=>[e("有的时候可能表格还需要增加额外的分页属性，这时候你可以扩展 "),o(i,{code:""},{default:t(()=>[e("tableProps")]),_:1}),e("，如果你觉得很麻烦，参考"),o(d,{to:"config-provider#prop-overrides.vue",custom:""},{default:t(({navigate:C,href:y})=>[o(n,{href:y,onClick:C},{default:t(()=>[e("组件 Props 覆盖")]),_:2},1032,["href","onClick"])]),_:1})]),_:1})]),demo:t(()=>[l("div",c0,[o(h,k({columns:a.columns,"row-key":C=>C.email},a.finalTableProps),null,16,["columns","row-key"])])]),_:1})}const A0=v(r0,[["render",u0]]);function i0({current:a,pageSize:r},u){console.log(a,r,u);let s=`page=${a}&size=${r}`;return Object.entries(u).forEach(([A,p])=>{p&&(s+=`&${A}=${p}`)}),fetch(`https://randomuser.me/api?results=55&${s}`).then(A=>A.json()).then(A=>({total:A.info.results,list:A.results.slice(0,10)}))}const d0=P({setup(){const a=[{title:"name",key:"name.last"},{title:"email",key:"email"},{title:"phone",key:"phone"},{title:"gender",key:"gender"}],r=[{title:"name",path:"name"},{title:"email",path:"email"},{title:"phone",path:"phone"}],u=O({initialValues:{name:"hello",email:"abc@gmail.com"}}),{table:{tableProps:s},search:{proSearchFormProps:A}}=F(i0,{form:u});return{columns:a,tableProps:s,searchColumns:r,form:u,proSearchFormProps:A}}}),m0={class:"demo-card__view"},p0={class:"flex flex-col",style:{height:"800px"}};function _0(a,r,u,s,A,p){const i=S,n=x,d=e0,_=X,h=L,D=I,C=E,y=c("component-demo");return m(),f(y,{"demo-file-name":"search-form.vue","relative-url":"packages/components/src/composables/demos/use-n-data-table/zhCN/search-form.demo.vue",title:"表单和表格联动","ts-code":"%3Ctemplate%3E%0A%20%20%3Cdiv%20class%3D%22flex%20flex-col%22%20%3Astyle%3D%22%7B%20height%3A%20'800px'%20%7D%22%3E%0A%20%20%20%20%3Cpro-card%20title%3D%22%E7%AD%9B%E9%80%89%E6%9D%A1%E4%BB%B6%22%20class%3D%22mb-24px%22%3E%0A%20%20%20%20%20%20%3Cpro-search-form%0A%20%20%20%20%20%20%20%20%3Aform%3D%22form%22%0A%20%20%20%20%20%20%20%20label-width%3D%2255%22%0A%20%20%20%20%20%20%20%20%3Acolumns%3D%22searchColumns%22%0A%20%20%20%20%20%20%20%20v-bind%3D%22proSearchFormProps%22%0A%20%20%20%20%20%20%2F%3E%0A%20%20%20%20%3C%2Fpro-card%3E%0A%20%20%20%20%3Cn-data-table%0A%20%20%20%20%20%20class%3D%22flex-1%22%0A%20%20%20%20%20%20flex-height%0A%20%20%20%20%20%20%3Acolumns%3D%22columns%22%0A%20%20%20%20%20%20%3Arow-key%3D%22(row%3Aany)%20%3D%3E%20row.email%22%0A%20%20%20%20%20%20v-bind%3D%22tableProps%22%0A%20%20%20%20%2F%3E%0A%20%20%3C%2Fdiv%3E%0A%3C%2Ftemplate%3E%0A%0A%3Cscript%20lang%3D%22tsx%22%3E%0Aimport%20type%20%7B%20ProSearchFormColumns%20%7D%20from%20'pro-naive-ui'%0Aimport%20%7B%20createProSearchForm%2C%20useNDataTable%20%7D%20from%20'pro-naive-ui'%0Aimport%20%7B%20defineComponent%20%7D%20from%20'vue'%0A%0Ainterface%20Item%20%7B%0A%20%20name%3A%20%7B%0A%20%20%20%20last%3A%20string%0A%20%20%7D%0A%20%20email%3A%20string%0A%20%20phone%3A%20string%0A%20%20gender%3A%20'male'%20%7C%20'female'%0A%7D%0A%0Ainterface%20Result%20%7B%0A%20%20total%3A%20number%0A%20%20list%3A%20Item%5B%5D%0A%7D%0A%0Afunction%20getTableData(%7B%20current%2C%20pageSize%20%7D%3A%20any%2C%20formData%3A%20object)%3A%20Promise%3CResult%3E%20%7B%0A%20%20console.log(current%2C%20pageSize%2C%20formData)%0A%20%20let%20query%20%3D%20%60page%3D%24%7Bcurrent%7D%26size%3D%24%7BpageSize%7D%60%0A%20%20Object.entries(formData).forEach((%5Bkey%2C%20value%5D)%20%3D%3E%20%7B%0A%20%20%20%20if%20(value)%20%7B%0A%20%20%20%20%20%20query%20%2B%3D%20%60%26%24%7Bkey%7D%3D%24%7Bvalue%7D%60%0A%20%20%20%20%7D%0A%20%20%7D)%0A%0A%20%20return%20fetch(%60https%3A%2F%2Frandomuser.me%2Fapi%3Fresults%3D55%26%24%7Bquery%7D%60)%0A%20%20%20%20.then(res%20%3D%3E%20res.json())%0A%20%20%20%20.then(res%20%3D%3E%20(%7B%0A%20%20%20%20%20%20total%3A%20res.info.results%2C%0A%20%20%20%20%20%20list%3A%20res.results.slice(0%2C%2010)%2C%0A%20%20%20%20%7D))%0A%7D%0A%0Aexport%20default%20defineComponent(%7B%0A%20%20setup()%20%7B%0A%20%20%20%20const%20columns%20%3D%20%5B%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20title%3A%20'name'%2C%0A%20%20%20%20%20%20%20%20key%3A%20'name.last'%2C%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20title%3A%20'email'%2C%0A%20%20%20%20%20%20%20%20key%3A%20'email'%2C%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20title%3A%20'phone'%2C%0A%20%20%20%20%20%20%20%20key%3A%20'phone'%2C%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20title%3A%20'gender'%2C%0A%20%20%20%20%20%20%20%20key%3A%20'gender'%2C%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%5D%0A%0A%20%20%20%20const%20searchColumns%3A%20ProSearchFormColumns%3C%7B%0A%20%20%20%20%20%20name%3A%20string%0A%20%20%20%20%20%20email%3A%20string%0A%20%20%20%20%20%20phone%3A%20string%0A%20%20%20%20%7D%3E%20%3D%20%5B%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20title%3A%20'name'%2C%0A%20%20%20%20%20%20%20%20path%3A%20'name'%2C%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20title%3A%20'email'%2C%0A%20%20%20%20%20%20%20%20path%3A%20'email'%2C%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20title%3A%20'phone'%2C%0A%20%20%20%20%20%20%20%20path%3A%20'phone'%2C%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%5D%0A%0A%20%20%20%20const%20searchForm%20%3D%20createProSearchForm(%7B%0A%20%20%20%20%20%20initialValues%3A%20%7B%0A%20%20%20%20%20%20%20%20name%3A%20'hello'%2C%0A%20%20%20%20%20%20%20%20email%3A%20'abc%40gmail.com'%2C%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%7D)%0A%0A%20%20%20%20const%20%7B%0A%20%20%20%20%20%20table%3A%20%7B%0A%20%20%20%20%20%20%20%20tableProps%2C%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20search%3A%20%7B%0A%20%20%20%20%20%20%20%20proSearchFormProps%2C%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%7D%20%3D%20useNDataTable(getTableData%2C%20%7B%0A%20%20%20%20%20%20form%3A%20searchForm%2C%0A%20%20%20%20%7D)%0A%0A%20%20%20%20return%20%7B%0A%20%20%20%20%20%20columns%2C%0A%20%20%20%20%20%20tableProps%2C%0A%20%20%20%20%20%20searchColumns%2C%0A%20%20%20%20%20%20form%3A%20searchForm%2C%0A%20%20%20%20%20%20proSearchFormProps%2C%0A%20%20%20%20%7D%0A%20%20%7D%2C%0A%7D)%0A%3C%2Fscript%3E","js-code":"<!--JS_CODE_SLOT-->","language-type":"tsx"},{title:t(()=>[e(" 表单和表格联动 ")]),content:t(()=>[o(n,null,{default:t(()=>[o(i,{code:""},{default:t(()=>[e("useNDataTable")]),_:1}),e(" 接收 "),o(i,{code:""},{default:t(()=>[e("form")]),_:1}),e(" 实例后，会返回 search 对象，用来处理表单相关事件。")]),_:1}),o(_,null,{default:t(()=>[o(d,null,{default:t(()=>[o(i,{code:""},{default:t(()=>[e("search.submit")]),_:1}),e(" 提交表单成功后重置 "),o(i,{code:""},{default:t(()=>[e("current")]),_:1}),e(" 到第一页，并重新发起请求")]),_:1}),o(d,null,{default:t(()=>[o(i,{code:""},{default:t(()=>[e("search.reset")]),_:1}),e(" 重置表单成功后重置 "),o(i,{code:""},{default:t(()=>[e("current")]),_:1}),e(" 到第一页，并重新发起请求")]),_:1}),o(d,null,{default:t(()=>[o(i,{code:""},{default:t(()=>[e("search.resetLoading")]),_:1}),e(" 重置时的 "),o(i,{code:""},{default:t(()=>[e("loading")]),_:1})]),_:1}),o(d,null,{default:t(()=>[o(i,{code:""},{default:t(()=>[e("search.searchLoading")]),_:1}),e(" 查询时的 "),o(i,{code:""},{default:t(()=>[e("loading")]),_:1})]),_:1}),o(d,null,{default:t(()=>[o(i,{code:""},{default:t(()=>[e("search.proSearchFormProps")]),_:1}),e(" 直接交给 "),o(i,{code:""},{default:t(()=>[e("pro-search-form")]),_:1}),e(" 组件的一些属性")]),_:1})]),_:1})]),demo:t(()=>[l("div",m0,[l("div",p0,[o(D,{title:"筛选条件",class:"mb-24px"},{default:t(()=>[o(h,k({form:a.form,"label-width":"55",columns:a.searchColumns},a.proSearchFormProps),null,16,["form","columns"])]),_:1}),o(C,k({class:"flex-1","flex-height":"",columns:a.columns,"row-key":T=>T.email},a.tableProps),null,16,["columns","row-key"])])])]),_:1})}const h0=v(d0,[["render",_0]]);function f0({current:a,pageSize:r},u){console.log(a,r,u);let s=`page=${a}&size=${r}`;return Object.entries(u).forEach(([A,p])=>{p&&(s+=`&${A}=${p}`)}),fetch(`https://randomuser.me/api?results=55&${s}`).then(A=>A.json()).then(A=>({total:A.info.results,list:A.results.slice(0,10)}))}const D0=P({setup(){const a=[{title:"name",key:"name.last"},{title:"email",key:"email"},{title:"phone",key:"phone"},{title:"gender",key:"gender"}],r=[{title:"name",path:"name",required:!0},{title:"email",path:"email"},{title:"phone",path:"phone"}],u=O({initialValues:{name:"hello",email:"abc@gmail.com"}}),{table:{tableProps:s},search:{proSearchFormProps:A}}=F(f0,{form:u});return{columns:a,tableProps:s,searchColumns:r,form:u,proSearchFormProps:A}}}),C0={class:"demo-card__view"},b0={class:"flex flex-col",style:{height:"800px"}};function g0(a,r,u,s,A,p){const i=S,n=x,d=L,_=I,h=E,D=c("component-demo");return m(),f(D,{"demo-file-name":"validate.vue","relative-url":"packages/components/src/composables/demos/use-n-data-table/zhCN/validate.demo.vue",title:"表单验证","ts-code":"%3Ctemplate%3E%0A%20%20%3Cdiv%20class%3D%22flex%20flex-col%22%20%3Astyle%3D%22%7B%20height%3A%20'800px'%20%7D%22%3E%0A%20%20%20%20%3Cpro-card%20title%3D%22%E7%AD%9B%E9%80%89%E6%9D%A1%E4%BB%B6%22%20class%3D%22mb-24px%22%3E%0A%20%20%20%20%20%20%3Cpro-search-form%0A%20%20%20%20%20%20%20%20%3Aform%3D%22form%22%0A%20%20%20%20%20%20%20%20label-width%3D%2260%22%0A%20%20%20%20%20%20%20%20%3Acolumns%3D%22searchColumns%22%0A%20%20%20%20%20%20%20%20v-bind%3D%22proSearchFormProps%22%0A%20%20%20%20%20%20%2F%3E%0A%20%20%20%20%3C%2Fpro-card%3E%0A%20%20%20%20%3Cn-data-table%0A%20%20%20%20%20%20class%3D%22flex-1%22%0A%20%20%20%20%20%20flex-height%0A%20%20%20%20%20%20%3Acolumns%3D%22columns%22%0A%20%20%20%20%20%20%3Arow-key%3D%22(row%3Aany)%20%3D%3E%20row.email%22%0A%20%20%20%20%20%20v-bind%3D%22tableProps%22%0A%20%20%20%20%2F%3E%0A%20%20%3C%2Fdiv%3E%0A%3C%2Ftemplate%3E%0A%0A%3Cscript%20lang%3D%22tsx%22%3E%0Aimport%20type%20%7B%20ProSearchFormColumns%20%7D%20from%20'pro-naive-ui'%0Aimport%20%7B%20createProSearchForm%2C%20useNDataTable%20%7D%20from%20'pro-naive-ui'%0Aimport%20%7B%20defineComponent%20%7D%20from%20'vue'%0A%0Ainterface%20Item%20%7B%0A%20%20name%3A%20%7B%0A%20%20%20%20last%3A%20string%0A%20%20%7D%0A%20%20email%3A%20string%0A%20%20phone%3A%20string%0A%20%20gender%3A%20'male'%20%7C%20'female'%0A%7D%0A%0Ainterface%20Result%20%7B%0A%20%20total%3A%20number%0A%20%20list%3A%20Item%5B%5D%0A%7D%0A%0Afunction%20getTableData(%7B%20current%2C%20pageSize%20%7D%3A%20any%2C%20formData%3A%20object)%3A%20Promise%3CResult%3E%20%7B%0A%20%20console.log(current%2C%20pageSize%2C%20formData)%0A%20%20let%20query%20%3D%20%60page%3D%24%7Bcurrent%7D%26size%3D%24%7BpageSize%7D%60%0A%20%20Object.entries(formData).forEach((%5Bkey%2C%20value%5D)%20%3D%3E%20%7B%0A%20%20%20%20if%20(value)%20%7B%0A%20%20%20%20%20%20query%20%2B%3D%20%60%26%24%7Bkey%7D%3D%24%7Bvalue%7D%60%0A%20%20%20%20%7D%0A%20%20%7D)%0A%0A%20%20return%20fetch(%60https%3A%2F%2Frandomuser.me%2Fapi%3Fresults%3D55%26%24%7Bquery%7D%60)%0A%20%20%20%20.then(res%20%3D%3E%20res.json())%0A%20%20%20%20.then(res%20%3D%3E%20(%7B%0A%20%20%20%20%20%20total%3A%20res.info.results%2C%0A%20%20%20%20%20%20list%3A%20res.results.slice(0%2C%2010)%2C%0A%20%20%20%20%7D))%0A%7D%0A%0Aexport%20default%20defineComponent(%7B%0A%20%20setup()%20%7B%0A%20%20%20%20const%20columns%20%3D%20%5B%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20title%3A%20'name'%2C%0A%20%20%20%20%20%20%20%20key%3A%20'name.last'%2C%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20title%3A%20'email'%2C%0A%20%20%20%20%20%20%20%20key%3A%20'email'%2C%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20title%3A%20'phone'%2C%0A%20%20%20%20%20%20%20%20key%3A%20'phone'%2C%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20title%3A%20'gender'%2C%0A%20%20%20%20%20%20%20%20key%3A%20'gender'%2C%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%5D%0A%0A%20%20%20%20const%20searchColumns%3A%20ProSearchFormColumns%3C%7B%0A%20%20%20%20%20%20name%3A%20string%0A%20%20%20%20%20%20email%3A%20string%0A%20%20%20%20%20%20phone%3A%20string%0A%20%20%20%20%7D%3E%20%3D%20%5B%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20title%3A%20'name'%2C%0A%20%20%20%20%20%20%20%20path%3A%20'name'%2C%0A%20%20%20%20%20%20%20%20required%3A%20true%2C%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20title%3A%20'email'%2C%0A%20%20%20%20%20%20%20%20path%3A%20'email'%2C%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20title%3A%20'phone'%2C%0A%20%20%20%20%20%20%20%20path%3A%20'phone'%2C%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%5D%0A%0A%20%20%20%20const%20searchForm%20%3D%20createProSearchForm(%7B%0A%20%20%20%20%20%20initialValues%3A%20%7B%0A%20%20%20%20%20%20%20%20name%3A%20'hello'%2C%0A%20%20%20%20%20%20%20%20email%3A%20'abc%40gmail.com'%2C%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%7D)%0A%0A%20%20%20%20const%20%7B%0A%20%20%20%20%20%20table%3A%20%7B%0A%20%20%20%20%20%20%20%20tableProps%2C%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20search%3A%20%7B%0A%20%20%20%20%20%20%20%20proSearchFormProps%2C%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%7D%20%3D%20useNDataTable(getTableData%2C%20%7B%0A%20%20%20%20%20%20form%3A%20searchForm%2C%0A%20%20%20%20%7D)%0A%0A%20%20%20%20return%20%7B%0A%20%20%20%20%20%20columns%2C%0A%20%20%20%20%20%20tableProps%2C%0A%20%20%20%20%20%20searchColumns%2C%0A%20%20%20%20%20%20form%3A%20searchForm%2C%0A%20%20%20%20%20%20proSearchFormProps%2C%0A%20%20%20%20%7D%0A%20%20%7D%2C%0A%7D)%0A%3C%2Fscript%3E","js-code":"<!--JS_CODE_SLOT-->","language-type":"tsx"},{title:t(()=>[e(" 表单验证 ")]),content:t(()=>[o(n,null,{default:t(()=>[e("表单提交之前，我们会调用 "),o(i,{code:""},{default:t(()=>[e("form.validate")]),_:1}),e(" 来校验表单数据，如果验证不通过，则不会发起请求。")]),_:1})]),demo:t(()=>[l("div",C0,[l("div",b0,[o(_,{title:"筛选条件",class:"mb-24px"},{default:t(()=>[o(d,k({form:a.form,"label-width":"60",columns:a.searchColumns},a.proSearchFormProps),null,16,["form","columns"])]),_:1}),o(h,k({class:"flex-1","flex-height":"",columns:a.columns,"row-key":C=>C.email},a.tableProps),null,16,["columns","row-key"])])])]),_:1})}const B0=v(D0,[["render",g0]]),y0={components:{tableVueDemo:a0,tableExtraPaginationPropVueDemo:A0,searchFormVueDemo:h0,validateVueDemo:B0},setup(){const a=G(),r=H(()=>!a.value),u=a;return{showAnchor:r,displayMode:U(),wrapperStyle:w(()=>u.value?"padding: 16px 16px 24px 16px;":"display: flex; flex-wrap: nowrap; padding: 32px 24px 56px 56px;"),contentStyle:w(()=>r.value?"width: calc(100% - 228px); margin-right: 36px;":"width: 100%; padding-right: 12px;"),url:"packages/components/src/composables/demos/use-n-data-table/zhCN/index.demo-entry.md"}}},k0=l("pre",null,[l("span",{class:"hljs-keyword"},"import"),e(),l("span",{class:"hljs-keyword"},"type"),e(" { "),l("span",{class:"hljs-title class_"},"SearchFormLike"),e(" } "),l("span",{class:"hljs-keyword"},"from"),e(),l("span",{class:"hljs-string"},"'pro-naive-ui'")],-1),v0={class:"md-table-wrapper"},F0=l("thead",null,[l("tr",null,[l("th",null,"名称"),l("th",null,"类型"),l("th",null,"默认值"),l("th",null,"说明"),l("th",null,"版本")])],-1),P0=l("td",null,"form",-1),E0=l("td",null,null,-1),x0=l("td",null,null,-1),S0=l("td",null,null,-1),T0=l("td",null,null,-1),w0=l("td",null,null,-1),$0=l("pre",null,[l("span",{class:"hljs-keyword"},"import"),e(),l("span",{class:"hljs-keyword"},"type"),e(" { "),l("span",{class:"hljs-title class_"},"ComputedRef"),e(" } "),l("span",{class:"hljs-keyword"},"from"),e(),l("span",{class:"hljs-string"},"'vue'"),e(`
`),l("span",{class:"hljs-keyword"},"import"),e(),l("span",{class:"hljs-keyword"},"type"),e(" { "),l("span",{class:"hljs-title class_"},"DataTableFilterState"),e(", "),l("span",{class:"hljs-title class_"},"DataTableSortState"),e(" } "),l("span",{class:"hljs-keyword"},"from"),e(),l("span",{class:"hljs-string"},"'naive-ui'")],-1),N0={class:"md-table-wrapper"},j0=l("thead",null,[l("tr",null,[l("th",null,"名称"),l("th",null,"类型"),l("th",null,"默认值"),l("th",null,"说明"),l("th",null,"版本")])],-1),z0=l("td",null,"table.tableProps",-1),V0=l("td",null,null,-1),R0=l("td",null,"table.onChange",-1),q0=l("td",null,"手动发起请求，如果没有传递配置，使用默认记录的配置，传递了配置，使用传递的",-1),O0=l("td",null,null,-1),I0=l("td",null,"search.submit",-1),L0=l("td",null,null,-1),M0=l("td",null,"search.reset",-1),J0=l("td",null,null,-1),Q0=l("td",null,"search.searchLoading",-1),K0=l("td",null,null,-1),Y0=l("td",null,"search.resetLoading",-1),Z0=l("td",null,null,-1),G0=l("td",null,"search.proSearchFormProps",-1),H0=l("td",null,null,-1),U0=l("td",null,null,-1),W0={key:0,style:{width:"192px"}};function X0(a,r,u,s,A,p){const i=c("n-h1"),n=c("n-text"),d=c("n-a"),_=c("router-link"),h=c("n-p"),D=c("n-li"),C=c("n-ul"),y=c("n-h2"),T=c("tableVueDemo"),M=c("tableExtraPaginationPropVueDemo"),J=c("searchFormVueDemo"),Q=c("validateVueDemo"),K=c("component-demos"),$=c("n-h3"),N=c("n-code"),j=c("n-scrollbar"),z=c("n-card"),V=c("n-table"),b=c("n-anchor-link"),Y=c("n-anchor");return m(),R("div",{class:"doc",style:q(s.wrapperStyle)},[l("div",{style:q(s.contentStyle)},[o(i,{id:"useNDataTable"},{default:t(()=>[e("useNDataTable")]),_:1}),o(h,null,{default:t(()=>[o(n,{code:""},{default:t(()=>[e("useNDataTable")]),_:1}),e(" 基于 "),o(n,{code:""},{default:t(()=>[e("useRequest")]),_:1}),e(" 实现，封装了常用的 "),o(_,{to:"search-form",custom:""},{default:t(({navigate:g,href:B})=>[o(d,{href:B,onClick:g},{default:t(()=>[e("ProSearchForm")]),_:2},1032,["href","onClick"])]),_:1}),e(" 与 "),o(d,{href:"https://www.naiveui.com/zh-CN/os-theme/components/data-table",target:"_blank"},{default:t(()=>[e("NDataTable")]),_:1}),e(" 联动逻辑， 当然你也可以用 "),o(n,{code:""},{default:t(()=>[e("useNDataTable")]),_:1}),e(" 搭配 "),o(_,{to:"data-table",custom:""},{default:t(({navigate:g,href:B})=>[o(d,{href:B,onClick:g},{default:t(()=>[e("ProDataTable")]),_:2},1032,["href","onClick"])]),_:1}),e(" 组件。")]),_:1}),o(h,null,{default:t(()=>[e("在使用之前，你需要了解它与 "),o(n,{code:""},{default:t(()=>[e("useRequest")]),_:1}),e(" 不同的几个点：")]),_:1}),o(C,null,{default:t(()=>[o(D,null,{default:t(()=>[o(n,{code:""},{default:t(()=>[e("service")]),_:1}),e(" 接收两个参数，第一个参数为分页数据 "),o(n,{code:""},{default:t(()=>[e("{ current, pageSize, sorter, filters }")]),_:1}),e("，第二个参数为表单数据。")]),_:1}),o(D,null,{default:t(()=>[o(n,{code:""},{default:t(()=>[e("service")]),_:1}),e(" 返回的数据结构为 "),o(n,{code:""},{default:t(()=>[e("{ total: number, list: object[] }")]),_:1}),e("。")]),_:1}),o(D,null,{default:t(()=>[e("会额外返回 "),o(n,{code:""},{default:t(()=>[e("table")]),_:1}),e(" 和 "),o(n,{code:""},{default:t(()=>[e("search")]),_:1}),e(" 字段，管理表格和表单。")]),_:1}),o(D,null,{default:t(()=>[o(n,{code:""},{default:t(()=>[e("refreshDeps")]),_:1}),e(" 变化，会重置 "),o(n,{code:""},{default:t(()=>[e("current")]),_:1}),e(" 到第一页，并重新发起请求。")]),_:1})]),_:1}),o(y,{id:"演示"},{default:t(()=>[e("演示")]),_:1}),o(K,{span:1},{default:t(()=>[o(T),o(M),o(J),o(Q)]),_:1}),o(y,{id:"API"},{default:t(()=>[e("API")]),_:1}),o($,{id:"useNDataTable-Options"},{default:t(()=>[e("useNDataTable Options")]),_:1}),o(h,null,{default:t(()=>[e("下面列举的参数是传递给 "),o(n,{code:""},{default:t(()=>[e("useNDataTable")]),_:1}),e(" 的，引用到的类型声明介绍如下")]),_:1}),o(z,{embedded:"",bordered:!1,class:"md-card","content-style":"padding: 0;"},{default:t(()=>[o(j,{"x-scrollable":"","content-style":"padding: 16px;"},{default:t(()=>[o(N,null,{default:t(()=>[k0]),_:1})]),_:1})]),_:1}),l("div",v0,[o(V,{"single-column":"",class:"md-table"},{default:t(()=>[F0,l("tbody",null,[l("tr",null,[P0,l("td",null,[o(n,{code:""},{default:t(()=>[e("SearchFormLike")]),_:1})]),l("td",null,[o(n,{code:""},{default:t(()=>[e("-")]),_:1})]),l("td",null,[o(n,{code:""},{default:t(()=>[e("createProSearchForm")]),_:1}),e(" 返回值，也可以是满足 "),o(n,{code:""},{default:t(()=>[e("SearchFormLike")]),_:1}),e(" 类型的值")]),E0]),l("tr",null,[l("td",null,[o(_,{to:"use-request#useRequest-Options",custom:""},{default:t(({navigate:g,href:B})=>[o(d,{href:B,onClick:g},{default:t(()=>[e("参考 useRequest")]),_:2},1032,["href","onClick"])]),_:1})]),x0,S0,T0,w0])])]),_:1})]),o($,{id:"useNDataTable-Returned"},{default:t(()=>[e("useNDataTable Returned")]),_:1}),o(h,null,{default:t(()=>[e("下面列举的参数是调用 "),o(n,{code:""},{default:t(()=>[e("useNDataTable")]),_:1}),e(" 函数返回的，引用到的类型声明介绍如下")]),_:1}),o(z,{embedded:"",bordered:!1,class:"md-card","content-style":"padding: 0;"},{default:t(()=>[o(j,{"x-scrollable":"","content-style":"padding: 16px;"},{default:t(()=>[o(N,null,{default:t(()=>[$0]),_:1})]),_:1})]),_:1}),l("div",N0,[o(V,{"single-column":"",class:"md-table"},{default:t(()=>[j0,l("tbody",null,[l("tr",null,[z0,l("td",null,[o(n,{code:""},{default:t(()=>[e("-")]),_:1})]),l("td",null,[o(n,{code:""},{default:t(()=>[e("-")]),_:1})]),l("td",null,[o(n,{code:""},{default:t(()=>[e("NDataTable")]),_:1}),e(" 组件需要的数据，直接透传给 "),o(n,{code:""},{default:t(()=>[e("NDataTable")]),_:1}),e(" 组件即可")]),V0]),l("tr",null,[R0,l("td",null,[o(n,{code:""},{default:t(()=>[e("(options?: {page?: number;pageSize?: number;filters?: DataTableFilterState;sorter?: DataTableSortState | DataTableSortState[] | null}) => void")]),_:1})]),l("td",null,[o(n,{code:""},{default:t(()=>[e("-")]),_:1})]),q0,O0]),l("tr",null,[I0,l("td",null,[o(n,{code:""},{default:t(()=>[e("() => void")]),_:1})]),l("td",null,[o(n,{code:""},{default:t(()=>[e("-")]),_:1})]),l("td",null,[e("提交表单成功后重置 "),o(n,{code:""},{default:t(()=>[e("current")]),_:1}),e(" 到第一页，并重新发起请求")]),L0]),l("tr",null,[M0,l("td",null,[o(n,{code:""},{default:t(()=>[e("() => void")]),_:1})]),l("td",null,[o(n,{code:""},{default:t(()=>[e("-")]),_:1})]),l("td",null,[e("重置表单成功后重置 "),o(n,{code:""},{default:t(()=>[e("current")]),_:1}),e(" 到第一页，并重新发起请求")]),J0]),l("tr",null,[Q0,l("td",null,[o(n,{code:""},{default:t(()=>[e("ComputedRef<boolean>")]),_:1})]),l("td",null,[o(n,{code:""},{default:t(()=>[e("-")]),_:1})]),l("td",null,[e("查询时的 "),o(n,{code:""},{default:t(()=>[e("loading")]),_:1})]),K0]),l("tr",null,[Y0,l("td",null,[o(n,{code:""},{default:t(()=>[e("ComputedRef<boolean>")]),_:1})]),l("td",null,[o(n,{code:""},{default:t(()=>[e("-")]),_:1})]),l("td",null,[e("重置时的 "),o(n,{code:""},{default:t(()=>[e("loading")]),_:1})]),Z0]),l("tr",null,[G0,l("td",null,[o(n,{code:""},{default:t(()=>[e("-")]),_:1})]),l("td",null,[o(n,{code:""},{default:t(()=>[e("-")]),_:1})]),l("td",null,[o(n,{code:""},{default:t(()=>[e("ProSearchForm")]),_:1}),e(" 组件需要的数据，直接透传给 "),o(n,{code:""},{default:t(()=>[e("ProSearchForm")]),_:1}),e(" 组件即可")]),H0]),l("tr",null,[l("td",null,[o(_,{to:"use-request#useRequest-Returned",custom:""},{default:t(({navigate:g,href:B})=>[o(d,{href:B,onClick:g},{default:t(()=>[e("参考 useRequest")]),_:2},1032,["href","onClick"])]),_:1})]),l("td",null,[o(n,{code:""},{default:t(()=>[e("-")]),_:1})]),l("td",null,[o(n,{code:""},{default:t(()=>[e("-")]),_:1})]),l("td",null,[o(n,{code:""},{default:t(()=>[e("ProSearchForm")]),_:1}),e(" 组件需要的数据，直接透传给 "),o(n,{code:""},{default:t(()=>[e("ProSearchForm")]),_:1}),e(" 组件即可")]),U0])])]),_:1})])],4),s.showAnchor?(m(),R("div",W0,[o(Y,{"internal-scrollable":"",bound:16,type:"block",style:{width:"192px",position:"sticky",top:"32px","max-height":"calc(100vh - 32px - 64px)",height:"auto"},"offset-target":"#doc-layout","ignore-gap":!0},{default:t(()=>[(s.displayMode,m(),f(b,{key:0,title:"Table 管理",href:"#table.vue"})),(s.displayMode,m(),f(b,{key:1,title:"额外的分页属性",href:"#table-extra-pagination-prop.vue"})),(s.displayMode,m(),f(b,{key:2,title:"表单和表格联动",href:"#search-form.vue"})),(s.displayMode,m(),f(b,{key:3,title:"表单验证",href:"#validate.vue"})),(s.displayMode,m(),f(b,{key:4,title:"API",href:"#API"})),(s.displayMode,m(),f(b,{key:5,title:"useNDataTable Options",href:"#useNDataTable-Options"})),(s.displayMode,m(),f(b,{key:6,title:"useNDataTable Returned",href:"#useNDataTable-Returned"}))]),_:1})])):Z("",!0)],4)}const m2=v(y0,[["render",X0]]);export{m2 as default};
